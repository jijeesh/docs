<!DOCTYPE html>
<html class="" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>
      
          
              CIS Benchmark Rancher Self-Assessment Guide - Rancher v2.3.3
          
      
  </title>

  <link rel="icon" type="image/png" href="/docs/img/favicon.png">
  <link rel="stylesheet" type="text/css" href="http://jijeesh.github.io/docs/sass/app.min.css?1585318202"/>

  
  
  
  
  
  
  
  

  
  <script charset="utf-8" type="text/javascript" src="http://jijeesh.github.io/docs/js/vendor.min.js?1585318202"></script>

 
  <script defer charset="utf-8" type="text/javascript" src="http://jijeesh.github.io/docs/js/instantsearch.min.js?1585318202"></script>

  
  
    
  <script charset="utf-8" type="text/javascript" src="http://jijeesh.github.io/docs/js/app.min.js?1585318202"></script>

  
  

  <link href="http://jijeesh.github.io/docs/rancher/v2.x/en/security/benchmark-2.3.3/index.xml" rel="alternate" type="application/rss+xml" title="CIS Benchmark Rancher Self-Assessment Guide - Rancher v2.3.3" />

  
    <meta name="description" content="This document is a companion to the Rancher v2.3.3 security hardening guide. The hardening guide provides prescriptive guidance for hardening a production installation of Rancher, and this benchmark guide is meant to help you evaluate the level of security of the hardened cluster against each control in the benchmark.
This guide corresponds to specific versions of the hardening guide, Rancher, Kubernetes, and the CIS Benchmark:
   Self Assessment Guide Version Rancher Version Hardening Guide Version Kubernetes Version CIS Benchmark Version     Self Assessment Guide v2."/>
  

  
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:title" content="CIS Benchmark Rancher Self-Assessment Guide - Rancher v2.3.3" />
  <meta name="twitter:site" content="" />
  <meta name="twitter:creator" content="" />

  
  <meta property="og:locale" content="en_US" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="CIS Benchmark Rancher Self-Assessment Guide - Rancher v2.3.3">
  <meta property="og:description" content="">
  <meta property="og:url" content="http://jijeesh.github.io/docs/rancher/v2.x/en/security/benchmark-2.3.3/" />
  <meta property="og:site_name" content="Rancher Labs" />
  <meta property="og:image" content="http://jijeesh.github.io/docs/img/logo-square.png" />
  
  



  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-57KS2MW');</script>
  

  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56382716-3', 'auto');
  ga('set', 'anonymizeIp', true);
  ga('send', 'pageview');

  </script>
  
</head>
<body lang="en" class="rancher">
    
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-57KS2MW"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    
  <a name="top"></a>


<div class="main"> 
    <header>
        <nav>
            <div class="mobile-header-container">
                <div class="mobile-nav-header">
                    <div class="logo">
                        <a href="/"><img class="logo-image" src="/imgs/rancher-logo-horiz-color.png" alt="The Logo of Rancher: an Open Source Kubernetes Multi Cluster Management Platform"></a>
                    </div>

                    <div class="mobile-search"><a href="#" class="search-open" data-launch-id="open-search"><img class="icon" src="/imgs/icon-search-mobile.svg" alt="Gray Search Icon"></a></div>

                    <div class="mobile-menu-opener">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>

                <div class="nav-mobile-menus jquery-accordion-menu">
                    <ul class="mobile-menus-wrap">
                        <li class="mobile-menu-item">
                            <a class="mobile-menu" href="#">Why Rancher?</a>

                            <ul class="submenu submenus-wrap">
                                <li class=""><a href="/what-is-rancher/overview/">Why Rancher?</a></li>
                                <li class=""><a href="/kubernetes/">Why Kubernetes?</a></li>
                                <li class=""><a href="/what-is-rancher/what-rancher-adds-to-kubernetes/">What Rancher Adds to Kubernetes</a></li>
                                <li class=""><a href="/what-is-rancher/how-is-rancher-different/">The Rancher Difference</a></li>
                            </ul>
                        </li>
                        <li class="mobile-menu-item">
                            <a class="mobile-menu" href="#">Products</a>

                            <ul class="submenu submenus-wrap">
                                <li><a href="/products/">Overview</a></li>
                                <li><a href="/products/rancher/">Rancher</a></li>
                                <li><a href="https://k3s.io" target="_blank">k3s</a></li>
                                <li><a href="https://rio.io" target="_blank">Rio</a></li>
                                <li><a href="/request-a-demo/">Request a demo</a></li>
                            </ul>
                        </li>
                        <li class="mobile-menu-item">
                            <a class="mobile-menu" href="#">Customers</a>

                            <ul class="submenu submenus-wrap">
                                <li><a href="/customers/illumina/">Illumina</a></li>
                                <li><a href="/customers/sling/">Sling TV</a></li>
                                <li><a href="/customers/eoc/">EOC</a></li>
                                <li><a href="/customers/deutsche-bahn/">Deutsche Bahn</a></li>
                                <li><a href="/customers/">See All Customer Stories</a></li>
                            </ul>
                        </li>
                        <li class="mobile-menu-item">
                            <a class="mobile-menu" href="#">Community</a>

                            <ul class="submenu submenus-wrap">
                                <li><a href="/community">Overview</a></li>
                                <li><a href="/learning-paths">Learning Paths</a></li>
                                <li><a href="/training/">Training</a></li>
                                <li><a href="/tutorials/">Tutorials</a></li>
                                <li><a href="/events/">Events</a></li>
                                <li><a href="/online-meetups/">Online Meetups</a></li>
                                <li><a href="/rodeos/">Rancher Rodeos</a></li>
                                <li><a href="/kubernetes-master-class/">Kubernetes Master Classes</a></li>
                                
                                <li><a href="/quick-start/">Getting Started Guide</a></li>
                                <li><a href="https://forums.rancher.com/">Forums</a></li>
                                <li><a href="http://slack.rancher.io/">Slack</a></li>
                                <li><a href="https://github.com/rancher">Github</a></li>
                            </ul>
                        </li>
                        <li class="mobile-menu-item">
                        <a class="mobile-menu" href="#">Resources</a>

                            <ul class="submenu submenus-wrap">
                                <li><a href="/docs">Docs</a></li>
                                <li><a href="/resources/#analyst-reports">Analyst Reports</a></li>
                                <li><a href="/resources/#whitepapers">White Papers</a></li>
                                <li><a href="/resources/#ebooks">Ebooks</a></li>
                                <li><a href="/resources/#videos">Videos</a></li>
                                <li><a href="/resources/#podcasts">Podcasts</a></li>
                                <li><a href="/blog/">Blog</a></li>
                            </ul>
                        </li>
                        <li class="mobile-menu-item">
                        <a class="mobile-menu" href="#">Projects</a>

                            <ul class="submenu submenus-wrap">
                                <li><a href="/rancher-os/">RancherOS</a></li>
                                <li><a href="http://k3os.io/" target="_blank">k3OS</a></li>
                                <li><a href="http://submariner.io/" target="_blank">Submariner</a></li>
                                <li><a href="https://longhorn.io/" target="_blank">Longhorn</a></li>
                            </ul>
                        </li>
                        <li class="mobile-menu-item">
                            <a class="mobile-menu" href="#">Company</a>

                            <ul class="submenu submenus-wrap">
                                <li><a href="/about/">About us</a></li>
                                <li><a href="/partners/">Partners</a></li>
                                <li><a href="/press/">Press</a></li>
                                <li><a href="/events/">Events</a></li>
                                <li><a href="/careers/">Careers</a></li>
                                <li><a href="/blog/">Blog</a></li>
                            </ul>
                        </li>

                        <li class="mobile-menu-item option-menu"><a href="/docs/">Docs</a></li>
                        <li class="mobile-menu-item option-menu"><a href="/support">Support</a></li>
                        <li class="mobile-menu-item option-menu"><a href="/request-a-demo/">Request a demo</a></li>
                        <li class="mobile-menu-item option-menu"><a href="/contact/">Contact</a></li>
                        <li class="mobile-menu-item option-menu"><a href="/pricing/">Pricing</a></li>
                        <li class="mobile-menu-item option-menu get-started"><a href="/quick-start/">Get started</a></li>
                    </ul>
                </div>
            </div>

            <div class="header-container">
                <div class="header-wrap">
                    <div class="header-option-menus">
                        <ul>
                            <li><a href="/docs/">Docs</a></li>
                            <li><a href="/request-a-demo/">Request a demo</a></li>
                            <li><a href="/pricing/">Pricing</a></li>
                            <li><a href="/support">Support</a></li>
                            <li><a href="/contact/">Contact</a></li>
                            <li class="search"><a href="#" class="search-open" data-launch-id="open-search"><img class="icon" src="/imgs/icon-search.svg"></a></li>
                        </ul>
                    </div>

                    <div class="header-primary-menus">
                        <div class="logo">
                            <a href="/"><img class="logo-image" src="/imgs/rancher-logo-horiz-color.png" alt="Rancher Logo"></a>
                        </div>

                        <div class="primary-menus">
                            <ul class="primary-menus-wrap">
                                <li class='primary-menu-item menu-why_rancher '>
                                    <a class="primary-menu" href="/what-is-rancher/overview">Why RANCHER?</a>

                                    <ul class="primary-menus-sub">
                                        <div class="grid-container">
                                            <div class="row">
                                                <div class="col">
                                                    <li class="menus-container">
                                                        <a href="/what-is-rancher/overview/">
                                                            <span>Why Rancher?</span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"></path>
                                                                    <path d="m24.5 17h-15"></path>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                        <a href="/kubernetes/">
                                                            <span>Why Kubernetes?</span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"></path>
                                                                    <path d="m24.5 17h-15"></path>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                        <a href="/what-is-rancher/what-rancher-adds-to-kubernetes/">
                                                            <span>What Rancher Adds to Kubernetes </span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"></path>
                                                                    <path d="m24.5 17h-15"></path>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                        <a href="/what-is-rancher/how-is-rancher-different/">
                                                            <span>The Rancher Difference </span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"></path>
                                                                    <path d="m24.5 17h-15"></path>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                    </li>
                                                </div>
                                            </div>
                                        </div>
                                    </ul>
                                </li>
                                <li class='primary-menu-item menu-products '>
                                    <a class="primary-menu" href="/products">Products</a>
                                    <ul class="primary-menus-sub">
                                        <div class="grid-container">
                                            <div class="row">
                                                <div class="col-12 right">

                                                    <ul>
                                                        <li class="menus-container">
                                                            <a href="/products">
                                                                <span>Overview</span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"></path>
                                                                    <path d="m24.5 17h-15"></path>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                            <a href="/products/rancher/" class="menu-sub-block-item">
                                                                <span>Rancher</span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"></path>
                                                                    <path d="m24.5 17h-15"></path>
                                                                </g>
                                                            </svg>
                                                            </a>
                                                            <a href="/products/rke/" class="menu-sub-block-item">
                                                                <span>RKE</span>

                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"></path>
                                                                    <path d="m24.5 17h-15"></path>
                                                                </g>
                                                            </svg>
                                                            </a>

                                                            <a href="https://k3s.io" class="menu-sub-block-item" target="_blank">
                                                                <span>K3s <svg class='icon-horizontal-center' style="width:24px;height:24px" viewBox="0 0 24 24">
                                                                <path fill="currentColor" d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z" />
                                                            </svg>
                                                            </span>

                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"></path>
                                                                    <path d="m24.5 17h-15"></path>
                                                                </g>
                                                            </svg>
                                                            </a>
                                                            <a href="https://rio.io" class="menu-sub-block-item" target="_blank">
                                                                <span>Rio <svg class='icon-horizontal-center' style="width:24px;height:24px" viewBox="0 0 24 24">
                                                                <path fill="currentColor" d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z" /></span>


                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"></path>
                                                                    <path d="m24.5 17h-15"></path>
                                                                </g>
                                                            </svg>
                                                            </a>

                                                        </li>

                                                    </ul>

                                            <div class="primary-menu-blocks primary-menu-blocks-join">
                                                <div class="menus-container menu-container-button">
                                                    <a class="box" href="/request-a-demo/">
                                                        <span>Request a demo</span>
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </ul>
                                </li>
                                <li class='primary-menu-item menu-customers '>
                                    <a class="primary-menu" href="/customers">Customers</a>

                                    <ul class="primary-menus-sub">
                                        <div class="grid-container">
                                            <div class="row">
                                                <div class="col left">
                                                    <li class="feature-container single split-half">
                                                        <div class="label">Featured</div>

                                                        <div class="article-item">
                                                            <div class="article-thumbmail">
                                                                <img class="image" src="/img/header-customers-featured-thumbnail.png" alt="A Male Scientist in a White Lab Coat Looking Into a Microscope">
                                                            </div>

                                                            <div class="article-texts">
                                                                <a href="/customers/illumina/">
                                                                    <h2 class="title-label">Illumina</h2>
                                                                    <p class="description-label">
                                                                        Illumina Innovates with Rancher and Kubernetes

                                                                        <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                            <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                                <path d="m19.5 12 5 5-5 5"/>
                                                                                <path d="m24.5 17h-15"/>
                                                                            </g>
                                                                        </svg>
                                                                    </p>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </div>
                                                <div class="col right">
                                                    <li class="menus-container">
                                                        <div class="label">More Customers</div>

                                                        <a href="/customers/sling/">
                                                            <span>Sling TV</span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"/>
                                                                    <path d="m24.5 17h-15"/>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                        <a href="/customers/eoc/">
                                                            <span>EOC</span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"/>
                                                                    <path d="m24.5 17h-15"/>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                        <a href="/customers/deutsche-bahn/">
                                                            <span>Deutsche Bahn</span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"/>
                                                                    <path d="m24.5 17h-15"/>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                        <a class="box" href="/customers/">
                                                            <span>See All Customer Stories</span>
                                                        </a>
                                                    </li>
                                                </div>
                                            </div>
                                        </div>
                                    </ul>
                                </li>
                                <li class='primary-menu-item menu-community '>
                                    <a class="primary-menu" href="/resources/">RESOURCES</a>

                                    <ul class="primary-menus-sub">
                                        <div class="grid-container">
                                            <div class="primary-menu-blocks">
                                                <div class="menu-sub-block">
                                                    <ul>
                                                        <li class="articles-container">
                                                            <div class="label">Community</div>
                                                            <a href="/community/" class="menu-sub-block-item">Community Overview</a>
                                                            <a href="/quick-start/" class="menu-sub-block-item">Getting Started Guide</a>
                                                            <a href="/learning-paths/" class="menu-sub-block-item">Learning Paths</a>
                                                            <a href="/training/" class="menu-sub-block-item">Introductory Training</a>
                                                            <a href="/tutorials/" class="menu-sub-block-item">Tutorials</a>
                                                            <a href="/online-meetups/" class="menu-sub-block-item">Online Meetups</a>
                                                            <a href="/rodeos/" class="menu-sub-block-item">Hands-on Workshops</a>
                                                            <a href="/kubernetes-master-class/" class="menu-sub-block-item">Kubernetes Master Classes</a>
                                                            
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="menu-sub-block">
                                                    <ul>
                                                        <li class="articles-container">
                                                            <div class="label">Content Library</div>
                                                            <a href="/docs" class="menu-sub-block-item">Docs</a>
                                                            <a href="/resources/#analyst-reports" class="menu-sub-block-item">Analyst Reports</a>
                                                            <a href="/resources/#whitepapers" class="menu-sub-block-item">
                                                            White Papers</a>
                                                            <a href="/resources/#ebooks" class="menu-sub-block-item">Ebooks</a>
                                                            <a href="/resources/#videos" class="menu-sub-block-item">Videos</a>
                                                            <a href="/resources/#podcasts" class="menu-sub-block-item">Podcasts</a>
                                                            <a href="/blog/" class="menu-sub-block-item">Blog</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="menu-sub-block">
                                                    <ul>
                                                        <li class="articles-container">
                                                            <div class="label">Projects</div>
                                                            <a href="/rancher-os" class="menu-sub-block-item">RancherOS</a>
                                                            <a href="http://k3os.io" target="_blank" class="menu-sub-block-item">k3OS <svg class='icon-horizontal-center' style="width:24px;height:24px" viewBox="0 0 24 24">
                                                                <path fill="currentColor" d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z" /></a>
                                                            <a href="http://submariner.io" target="_blank" class="menu-sub-block-item">Submariner <svg class='icon-horizontal-center' style="width:24px;height:24px" viewBox="0 0 24 24">
                                                                <path fill="currentColor" d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z" /></a>
                                                            <a href="https://longhorn.io" target="_blank" class="menu-sub-block-item">Longhorn <svg class='icon-horizontal-center' style="width:24px;height:24px" viewBox="0 0 24 24">
                                                                <path fill="currentColor" d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z" /></a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="primary-menu-blocks primary-menu-blocks-join">
                                                <div class="menu-sub-block">
                                                    <ul>
                                                        <li class="articles-container">
                                                            <div class="label">Join the Community</div>
                                                            <div class="menu-sub-items">
                                                                <a href="https://forums.rancher.com/" class="menu-sub-block-item">Forums</a>
                                                                <span class="menu-sub-block-item">|</span>
                                                                <a href="http://slack.rancher.io/" class="menu-sub-block-item">Slack</a>
                                                                <span class="menu-sub-block-item">|</span>
                                                                <a href="https://github.com/rancher" class="menu-sub-block-item">Github</a>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </ul>
                                </li>
                                <li class='primary-menu-item menu-company '>
                                    <a class="primary-menu" href="/about/">Company</a>

                                    <ul class="primary-menus-sub">
                                        <div class="grid-container">
                                            <div class="row">
                                                <div class="col">
                                                    <li class="menus-container">
                                                        <a href="/about/">
                                                            <span>About us</span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"/>
                                                                    <path d="m24.5 17h-15"/>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                        <a href="/partners/">
                                                            <span>Partners</span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"/>
                                                                    <path d="m24.5 17h-15"/>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                        <a href="/press/">
                                                            <span>Press</span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"/>
                                                                    <path d="m24.5 17h-15"/>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                        <a href="/events/">
                                                            <span>Events</span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"/>
                                                                    <path d="m24.5 17h-15"/>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                        <a href="/careers/">
                                                            <span>Careers</span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"/>
                                                                    <path d="m24.5 17h-15"/>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                        <a href="/blog/">
                                                            <span>Blog</span>
                                                            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                                                                <g class="svg-linear" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">
                                                                    <path d="m19.5 12 5 5-5 5"/>
                                                                    <path d="m24.5 17h-15"/>
                                                                </g>
                                                            </svg>
                                                        </a>
                                                    </li>
                                                </div>
                                            </div>
                                        </div>
                                    </ul>
                                </li>
                                <li class="primary-menu-item menu-get_started get-started">
                                    <a href="/quick-start/">Get started</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>



<div class="modal-content" id="open-search">
  <div class="content search-modal">
    
    <div class="container-search">
      <form id="searchForm"><input type="search" id="search-box" autocomplete="off"></input></form>
    </div>

    
    <div class="overlay-search">
      <div class="search-results" id="hits"></div>
    </div>
  </div>
</div>






  <section class="docs-container">
    <div class="grid-container">
      <div class="row max-sized set-lines set-ground">
        <div class="col-4"></div>
        <div class="col-4"></div>
        <div class="col-4"></div>
      </div>

      <div class="head-blank"></div>

      <div class="row max-sized contents-container background-base-gray-side">
        <div class="
        col-xl-3
        col-lg-4
        col-md-4
        col-sm-12
        col-xs-12
        col-12
        side-menus">
        <div class="search-container">
          <input class="search input" placeholder="SEARCH" />
        </div>

        
        

  
    
      
        
      
    
  

  
    
      
        
      
    
  

  
    
      
        
          
        
      
    
  

  
    
      
        
      
    
  



<div class="side-menus-container product-select tree-nav jquery-accordion-menu">
  <ul class="side-menus-wrap">
    <li class="tree-nav-item">
      <a>
        
          
            
              
                
              
            
          
        
          
            
              
                
              
            
          
        
          
            
              
                
                  Rancher 2.x
                
              
            
          
        
          
            
              
                
              
            
          
        
        <span class="submenu-indicator">
          <span class="object1"></span>
          <span class="object2"></span>
          <span class="object3"></span>
        </span>
      </a>

      <ul class="tree-nav-sublist submenu submenus-wrap hide">
        
          
            
              <li><a href="http://jijeesh.github.io/docs/k3s/latest/en/">K3s</a></li>
              
            
          
        
          
            
              <li><a href="http://jijeesh.github.io/docs/rke/latest/en/">RKE</a></li>
              
            
          
        
          
            
              <li><a href="http://jijeesh.github.io/docs/rancher/v2.x/en/">Rancher 2.x</a></li>
              
                <li><a href="https://rancher.com/docs/rancher/v1.6/en/" target="blank">Rancher 1.6</a></li>
              
            
          
        
          
            
              <li><a href="http://jijeesh.github.io/docs/os/v1.x/en/">RancherOS</a></li>
              
            
          
        
      </ul>
    </li>
  </ul>
</div>

<div class="guide-menus-activator">
  
    CIS Benchmark Rancher Self-Assessment Guide - Rancher v2.3.3
  

  <span class="indicator">
    <span class="object1"></span>
    <span class="object2"></span>
    <span class="object3"></span>
  </span>
</div>
<div class="side-menus-container guide-menus tree-nav jquery-accordion-menu">
  <ul class="side-menus-wrap second">
    
    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/overview/" class="">Overview<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/overview/architecture/" class="">Architecture</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/overview/architecture-recommendations/" class="">Architecture Recommendations</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/overview/concepts/" class="">Kubernetes Concepts</a>
        </li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/quick-start-guide/" class="">Rancher Deployment Quick Start Guides<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/quick-start-guide/cli/" class="">CLI with Rancher</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/quick-start-guide/deployment/" class="">Deploying Rancher Server<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/quick-start-guide/deployment/amazon-aws-qs/" class="">Rancher AWS Quick Start Guide</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/quick-start-guide/deployment/microsoft-azure-qs/" class="">Rancher Azure Quick Start Guide</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/quick-start-guide/deployment/digital-ocean-qs/" class="">Rancher DigitalOcean Quick Start Guide</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/quick-start-guide/deployment/google-gcp-qs/" class="">Rancher GCP Quick Start Guide</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/quick-start-guide/deployment/quickstart-vagrant/" class="">Vagrant Quick Start</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/quick-start-guide/deployment/quickstart-manual-setup/" class="">Manual Quick Start</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/quick-start-guide/workload/" class="">Deploying Workloads<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/quick-start-guide/workload/quickstart-deploy-workload-ingress/" class="">Workload with Ingress Quick Start</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/quick-start-guide/workload/quickstart-deploy-workload-nodeport/" class="">Workload with NodePort Quick Start</a>
        </li>
</ul></li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/" class="">Installing Rancher<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/requirements/" class="">Installation Requirements<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/requirements/installing-docker/" class="">Installing Docker</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/requirements/ports/" class="">Port Requirements</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/how-ha-works/" class="">About High-availability Installations</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/k8s-install/" class="">Installing Rancher on a Kubernetes Cluster<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/k8s-install/create-nodes-lb/" class="">1. Create Nodes and Load Balancer<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/k8s-install/create-nodes-lb/nginx/" class="">Setting up an NGINX Load Balancer</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/k8s-install/create-nodes-lb/nlb/" class="">Setting up an Amazon NLB Load Balancer</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/k8s-install/kubernetes-rke/" class="">2. Set up a Kubernetes Cluster</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/k8s-install/helm-rancher/" class="">3. Install Rancher on the Kubernetes Cluster</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/other-installation-methods/" class="">Other Installation Methods<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/other-installation-methods/single-node-docker/" class="">Installing Rancher on a Single Node Using Docker<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/other-installation-methods/single-node-docker/troubleshooting/" class="">FAQ and Troubleshooting</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/other-installation-methods/single-node-docker/advanced/" class="">Advanced Options for Docker Installs</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/other-installation-methods/single-node-docker/proxy/" class="">HTTP Proxy Configuration</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/other-installation-methods/single-node-docker/single-node-install-external-lb/" class="">Docker Install with External Load Balancer</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/other-installation-methods/air-gap/" class="">Installing Rancher in an Air Gapped Environment<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/other-installation-methods/air-gap/prepare-nodes/" class="">1. Prepare your Node(s)</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/other-installation-methods/air-gap/populate-private-registry/" class="">2. Collect and Publish Images to your Private Registry</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/other-installation-methods/air-gap/launch-kubernetes/" class="">3. Install Kubernetes with RKE (Kubernetes Installs Only)</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/other-installation-methods/air-gap/install-rancher/" class="">4. Install Rancher</a>
        </li>
</ul></li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/" class="">Resources, References, and Advanced Options<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/" class="">Kubernetes Installation Using Helm 2<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/create-nodes-lb/" class="">1. Create Nodes and Load Balancer<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/create-nodes-lb/nginx/" class="">NGINX</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/create-nodes-lb/nlb/" class="">Amazon NLB</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/kubernetes-rke/" class="">2. Install Kubernetes with RKE<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/kubernetes-rke/troubleshooting/" class="">Troubleshooting</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/helm-init/" class="">Initialize Helm: Install the Tiller Service<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/helm-init/troubleshooting/" class="">Troubleshooting</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/helm-rancher/" class="">4.  Install Rancher<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/helm-rancher/tls-secrets/" class="">Adding Kubernetes TLS Secrets</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/helm-rancher/chart-options/" class="">Chart Options</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/helm-rancher/troubleshooting/" class="">Troubleshooting</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/rke-add-on/" class="">RKE Add-On Install<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/rke-add-on/layer-4-lb/" class="">Kubernetes Install with External Load Balancer (TCP/Layer 4)<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/rke-add-on/layer-4-lb/nlb/" class="">Amazon NLB Configuration</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/rke-add-on/layer-7-lb/" class="">Kubernetes Install with External Load Balancer (HTTPS/Layer 7)<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/rke-add-on/layer-7-lb/alb/" class="">Amazon ALB Configuration</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/rke-add-on/layer-7-lb/nginx/" class="">NGINX Configuration</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/rke-add-on/proxy/" class="">HTTP Proxy Configuration</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/rke-add-on/api-auditing/" class="">Enable API Auditing</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/rke-add-on/troubleshooting/" class="">Troubleshooting HA RKE Add-On Install<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/rke-add-on/troubleshooting/generic-troubleshooting/" class="">Generic troubleshooting</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/rke-add-on/troubleshooting/job-complete-status/" class="">Failed to get job complete status</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm2/rke-add-on/troubleshooting/404-default-backend/" class="">404 - default backend</a>
        </li>
</ul></li>
</ul></li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/air-gap-helm2/" class="">Installing Rancher in an Air Gapped Environment with Helm 2<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/air-gap-helm2/prepare-nodes/" class="">1. Prepare your Node(s)</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/air-gap-helm2/populate-private-registry/" class="">2. Collect and Publish Images to your Private Registry</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/air-gap-helm2/launch-kubernetes/" class="">3. Install Kubernetes with RKE (Kubernetes Installs Only)</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/air-gap-helm2/install-rancher/" class="">4. Install Rancher</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/etcd/" class="">Tuning etcd for Large Installations</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/server-tags/" class="">Choosing a Rancher Version</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/tls-secrets/" class="">Adding TLS Secrets</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/chart-options/" class="">Helm Chart Options for Kubernetes Installations</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/rke-add-on/" class="">RKE Add-On Install<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/rke-add-on/layer-4-lb/" class="">Kubernetes Install with External Load Balancer (TCP/Layer 4)<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/rke-add-on/layer-4-lb/nlb/" class="">Amazon NLB Configuration</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/rke-add-on/layer-7-lb/" class="">Kubernetes Install with External Load Balancer (HTTPS/Layer 7)<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/rke-add-on/layer-7-lb/alb/" class="">Amazon ALB Configuration</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/rke-add-on/layer-7-lb/nginx/" class="">NGINX Configuration</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/rke-add-on/proxy/" class="">HTTP Proxy Configuration</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/rke-add-on/api-auditing/" class="">Enable API Auditing</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/rke-add-on/troubleshooting/" class="">Troubleshooting HA RKE Add-On Install<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/rke-add-on/troubleshooting/generic-troubleshooting/" class="">Generic troubleshooting</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/rke-add-on/troubleshooting/job-complete-status/" class="">Failed to get job complete status</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/rke-add-on/troubleshooting/404-default-backend/" class="">404 - default backend</a>
        </li>
</ul></li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/troubleshooting/" class="">Troubleshooting the Rancher Server Kubernetes Cluster</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/helm-version/" class="">Helm Version Requirements</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/custom-ca-root-certificate/" class="">About Custom CA Root Certificates</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/local-system-charts/" class="">Setting up Local System Charts for Air Gapped Installations</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/upgrading-cert-manager/" class="">Upgrading Cert-Manager<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/upgrading-cert-manager/helm-2-instructions/" class="">Upgrading Cert-Manager with Helm 2</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/arm64-platform/" class="">Running on ARM64 (Experimental)</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/feature-flags/" class="">Enabling Experimental Features<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/feature-flags/enable-not-default-storage-drivers/" class="">Allow Unsupported Storage Drivers</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/feature-flags/istio-virtual-service-ui/" class="">UI for Istio Virtual Services and Destination Rules</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/api-audit-log/" class="">Enabling the API Audit Log to Record System Events</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/tls-settings/" class="">TLS settings</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/installation/options/firewall/" class="">Opening Ports with firewalld</a>
        </li>
</ul></li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/upgrades/" class="">Upgrades and Rollbacks<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/upgrades/upgrades/" class="">Upgrades<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/upgrades/upgrades/single-node/" class="">Upgrading Rancher Installed with Docker</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/upgrades/upgrades/ha/" class="">Upgrading Rancher Installed on Kubernetes<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/upgrades/upgrades/ha/helm2/" class="">Upgrading Rancher Installed on Kubernetes with Helm 2</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/upgrades/upgrades/migrating-from-rke-add-on/" class="">Migrating from a Kubernetes Install with an RKE Add-on</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/upgrades/upgrades/namespace-migration/" class="">Upgrading to v2.0.7&#43;  Namespace Migration</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/upgrades/rollbacks/" class="">Rollbacks<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/upgrades/rollbacks/single-node-rollbacks/" class="">Docker Rollback</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/upgrades/rollbacks/ha-server-rollbacks/" class="">Kubernetes Rollback</a>
        </li>
</ul></li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/backups/" class="">Backups and Disaster Recovery<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/backups/backups/" class="">Backups<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/backups/backups/single-node-backups/" class="">Creating Backups for Rancher Installed with Docker</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/backups/backups/ha-backups/" class="">Creating Backups for Rancher Installed on Kubernetes</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/backups/restorations/" class="">Restorations<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/backups/restorations/single-node-restoration/" class="">Docker Installs</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/backups/restorations/ha-restoration/" class="">Kubernetes Installs</a>
        </li>
</ul></li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/best-practices/" class="">Best Practices Guide<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/best-practices/deployment-strategies/" class="">Rancher Deployment Strategies</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/best-practices/deployment-types/" class="">Tips for Running Rancher</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/best-practices/containers/" class="">Tips for Setting Up Containers</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/best-practices/management/" class="">Tips for Scaling, Security and Reliability</a>
        </li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/" class="">Authentication, Permissions and Global Configuration<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/config-private-registry/" class="">Configuring a Global Default Private Registry</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/" class="">Authentication<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/user-groups/" class="">Users and Groups</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/local/" class="">Local Authentication</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/ad/" class="">Configuring Active Directory (AD)</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/openldap/" class="">Configuring OpenLDAP</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/freeipa/" class="">Configuring FreeIPA</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/azure-ad/" class="">Configuring Azure AD</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/github/" class="">Configuring GitHub</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/keycloak/" class="">Configuring Keycloak (SAML)</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/ping-federate/" class="">Configuring PingIdentity (SAML)</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/microsoft-adfs/" class="">Configuring Microsoft Active Directory Federation Service (SAML)<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/microsoft-adfs/microsoft-adfs-setup/" class="">1  Configuring Microsoft AD FS for Rancher</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/microsoft-adfs/rancher-adfs-setup/" class="">2  Configuring Rancher for Microsoft AD FS</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/okta/" class="">Configuring Okta (SAML)</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/authentication/google/" class="">Configuring Google OAuth</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rbac/" class="">Role-Based Access Control (RBAC)<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rbac/global-permissions/" class="">Global Permissions</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rbac/cluster-project-roles/" class="">Cluster and Project Roles</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rbac/default-custom-roles/" class="">Custom Roles</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rbac/locked-roles/" class="">Locked Roles</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/k8s-metadata/" class="">Upgrading Kubernetes without Upgrading Rancher</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/pod-security-policies/" class="">Pod Security Policies</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/drivers/" class="">Provisioning Drivers<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/drivers/cluster-drivers/" class="">Cluster Drivers</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/drivers/node-drivers/" class="">Node Drivers</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rke-templates/" class="">RKE Templates<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rke-templates/example-scenarios/" class="">Example Scenarios</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rke-templates/creator-permissions/" class="">Template Creator Permissions</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rke-templates/template-access-and-sharing/" class="">Access and Sharing</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rke-templates/creating-and-revising/" class="">Creating and Revising Templates</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rke-templates/enforcement/" class="">Template Enforcement</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rke-templates/overrides/" class="">Overriding Template Settings</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rke-templates/applying-templates/" class="">Applying Templates</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rke-templates/example-yaml/" class="">Example YAML</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/admin-settings/rke-templates/rke-templates-and-hardware/" class="">RKE Templates and Infrastructure</a>
        </li>
</ul></li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/" class="">Setting up Kubernetes Clusters in Rancher<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/node-requirements/" class="">Node Requirements for User Clusters</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/production/" class="">Checklist for Production-Ready Clusters<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/production/recommended-architecture/" class="">Recommended Cluster Architecture</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/production/nodes-and-roles/" class="">Roles for Nodes in Kubernetes</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/hosted-kubernetes-clusters/" class="">Setting up Clusters from Hosted Kubernetes Providers<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/hosted-kubernetes-clusters/gke/" class="">Google Kubernetes Engine</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/hosted-kubernetes-clusters/eks/" class="">Amazon EKS</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/hosted-kubernetes-clusters/aks/" class="">Azure Kubernetes Service</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/hosted-kubernetes-clusters/ack/" class="">Alibaba Cloud Container Service for Kubernetes</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/hosted-kubernetes-clusters/tke/" class="">Tencent Kubernetes Engine</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/hosted-kubernetes-clusters/cce/" class="">Huawei Cloud Kubernetes Service</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/" class="">Launching Kubernetes with Rancher<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/node-pools/" class="">Launching Kubernetes on New Nodes in an Infrastructure Provider<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/node-pools/ec2/" class="">Amazon EC2</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/node-pools/digital-ocean/" class="">DigitalOcean</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/node-pools/azure/" class="">Azure</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/node-pools/vsphere/" class="">vSphere<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/node-pools/vsphere/provisioning-vsphere-clusters/" class="">Provisioning Kubernetes Clusters in vSphere<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/node-pools/vsphere/provisioning-vsphere-clusters/creating-credentials/" class="">Creating Credentials in the vSphere Console</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/node-pools/vsphere/provisioning-vsphere-clusters/enabling-uuids/" class="">Enabling Disk UUIDs in Node Templates</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/node-pools/vsphere/provisioning-vsphere-clusters/node-template-reference/" class="">vSphere Node Template Configuration Reference</a>
        </li>
</ul></li>
</ul></li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/custom-nodes/" class="">Launching Kubernetes on Existing Custom Nodes<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/custom-nodes/agent-options/" class="">Rancher Agent Options</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/windows-clusters/" class="">Launching Kubernetes on Windows Clusters<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/windows-clusters/host-gateway-requirements/" class="">Networking Requirements for Host Gateway (L2bridge)</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/windows-clusters/docs-for-2.1-and-2.2/" class="">v2.1.x and v2.2.x Windows Documentation (Experimental)</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/options/" class="">Cluster Configuration Reference<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/options/cloud-providers/" class="">Setting up Cloud Providers</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/options/pod-security-policies/" class="">Assigning Pod Security Policies</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/rancher-agents/" class="">Rancher Agents</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-provisioning/imported-clusters/" class="">Importing Existing Clusters into Rancher</a>
        </li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/" class="">Cluster Administration<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/cluster-access/" class="">Cluster Access<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/cluster-access/kubectl/" class="">Access a Cluster with Kubectl and kubeconfig</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/cluster-access/ace/" class="">How the Authorized Cluster Endpoint Works</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/cluster-access/cluster-members/" class="">Adding Users to Clusters</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/upgrading-kubernetes/" class="">Upgrading Kubernetes</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/pod-security-policy/" class="">Adding a Pod Security Policy</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/editing-clusters/" class="">Cluster Configuration</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/nodes/" class="">Nodes and Node Pools</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/volumes-and-storage/" class="">Kubernetes Persistent Storage: Volumes and Storage Classes<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/volumes-and-storage/how-storage-works/" class="">How Persistent Storage Works</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/volumes-and-storage/attaching-existing-storage/" class="">Setting up Existing Storage</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/volumes-and-storage/provisioning-new-storage/" class="">Dynamically Provisioning New Storage in Rancher</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/volumes-and-storage/examples/" class="">Provisioning Storage Examples<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/volumes-and-storage/examples/ebs/" class="">Creating Persistent Storage in Amazon&#39;s EBS</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/volumes-and-storage/examples/nfs/" class="">NFS Storage</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/volumes-and-storage/examples/vsphere/" class="">vSphere Storage</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/volumes-and-storage/glusterfs-volumes/" class="">GlusterFS Volumes</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/volumes-and-storage/iscsi-volumes/" class="">iSCSI Volumes</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/projects-and-namespaces/" class="">Projects and Kubernetes Namespaces with Rancher</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/" class="">Tools for Logging, Monitoring, and Visibility<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/notifiers/" class="">Notifiers</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/alerts/" class="">Alerts<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/alerts/default-alerts/" class="">Default Alerts for Cluster Monitoring</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/logging/" class="">Rancher Integration with Logging Services<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/logging/elasticsearch/" class="">Elasticsearch</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/logging/splunk/" class="">Splunk</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/logging/kafka/" class="">Kafka</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/logging/syslog/" class="">Syslog</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/logging/fluentd/" class="">Fluentd</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/monitoring/" class="">Integrating Rancher and Prometheus for Cluster Monitoring<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/monitoring/prometheus/" class="">Prometheus Configuration</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/monitoring/viewing-metrics/" class="">Viewing Metrics</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/monitoring/cluster-metrics/" class="">Cluster Metrics</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/monitoring/expression/" class="">Expression</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/istio/" class="">Istio<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/istio/resources/" class="">CPU and Memory Allocations</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/istio/setup/" class="">Setup Guide<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/istio/setup/enable-istio-in-cluster/" class="">1. Enable Istio in the Cluster<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/istio/setup/enable-istio-in-cluster/enable-istio-with-psp/" class="">Enable Istio with Pod Security Policies</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/istio/setup/enable-istio-in-namespace/" class="">2. Enable Istio in a Namespace</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/istio/setup/node-selectors/" class="">3. Select the Nodes Where Istio Components Will be Deployed</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/istio/setup/deploy-workloads/" class="">4. Add Deployments and Services with the Istio Sidecar</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/istio/setup/gateway/" class="">5. Set up the Istio Gateway</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/istio/setup/set-up-traffic-management/" class="">6. Set up Istio&#39;s Components for Traffic Management</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/istio/setup/view-traffic/" class="">7. Generate and View Traffic</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/istio/rbac/" class="">Role-based Access Control</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/tools/istio/disabling-istio/" class="">Disabling Istio</a>
        </li>
</ul></li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/cloning-clusters/" class="">Cloning Clusters</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/certificate-rotation/" class="">Certificate Rotation</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/backing-up-etcd/" class="">Backing up etcd</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/restoring-etcd/" class="">Restoring etcd</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cluster-admin/cleaning-cluster-nodes/" class="">Removing Kubernetes Components from Nodes</a>
        </li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/" class="">Project Administration<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/project-members/" class="">Adding Users to Projects</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/resource-quotas/" class="">Project Resource Quotas<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/resource-quotas/quotas-for-projects/" class="">How Resource Quotas Work in Rancher Projects</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/resource-quotas/override-namespace-default/" class="">Overriding the Default Limit for a Namespace</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/resource-quotas/override-container-default/" class="">Setting Container Default Resource Limits</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/resource-quotas/quota-type-reference/" class="">Resource Quota Type Reference</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/namespaces/" class="">Namespaces</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/tools/" class="">Tools for Logging, Monitoring, and Visibility<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/tools/alerts/" class="">Alerts</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/tools/logging/" class="">Logging</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/tools/monitoring/" class="">Monitoring</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/istio/" class="">Istio</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/pipelines/" class="">Rancher&#39;s CI/CD Pipelines<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/pipelines/docs-for-v2.0.x/" class="">v2.0.x Pipeline Documentation</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/project-admin/pod-security-policies/" class="">Pod Security Policies</a>
        </li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/" class="">Kubernetes Resources, Registries and Pipelines<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/workloads/" class="">Kubernetes Workloads and Pods<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/workloads/deploy-workloads/" class="">Deploying Workloads</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/workloads/rollback-workloads/" class="">Rolling Back Workloads</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/workloads/upgrade-workloads/" class="">Upgrading Workloads</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/workloads/add-a-sidecar/" class="">Adding a Sidecar</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/horitzontal-pod-autoscaler/" class="">The Horizontal Pod Autoscaler<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/horitzontal-pod-autoscaler/hpa-background/" class="">Background Information on HPAs</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/horitzontal-pod-autoscaler/manage-hpa-with-rancher-ui/" class="">Managing HPAs with the Rancher UI</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/horitzontal-pod-autoscaler/manage-hpa-with-kubectl/" class="">Managing HPAs with kubectl</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/horitzontal-pod-autoscaler/testing-hpa/" class="">Testing HPAs with kubectl</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/horitzontal-pod-autoscaler/hpa-for-rancher-before-2_0_7/" class="">Manual HPA Installation for Clusters Created Before Rancher v2.0.7</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/load-balancers-and-ingress/" class="">Set Up Load Balancer and Ingress Controller within Rancher<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/load-balancers-and-ingress/load-balancers/" class="">Layer 4 and Layer 7 Load Balancing</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/load-balancers-and-ingress/ingress/" class="">Adding Ingresses to Your Project</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/service-discovery/" class="">Service Discovery</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/pipelines/" class="">Pipelines<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/pipelines/example-repos/" class="">Example Repositories</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/pipelines/example/" class="">Example YAML File</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/certificates/" class="">Encrypting HTTP Communication</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/configmaps/" class="">ConfigMaps</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/secrets/" class="">Secrets</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/k8s-in-rancher/registries/" class="">Kubernetes Registry and Docker Registry</a>
        </li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/catalog/" class="">Catalogs, Helm Charts and Apps<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/catalog/built-in/" class="">Built-in Global Catalogs</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/catalog/custom/" class="">Custom Catalogs<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/catalog/custom/creating/" class="">Creating Custom Catalogs Apps</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/catalog/custom/adding/" class="">Adding Custom Catalogs</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/catalog/multi-cluster-apps/" class="">Multi-Cluster Apps</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/catalog/apps/" class="">Apps in a Project</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/catalog/globaldns/" class="">Global DNS</a>
        </li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/cli/" class="">Using the Rancher Command Line Interface</a>
        </li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/system-tools/" class="">System Tools</a>
        </li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/user-settings/" class="">User Settings<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/user-settings/api-keys/" class="">API Keys</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/user-settings/node-templates/" class="">Managing Node Templates</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/user-settings/cloud-credentials/" class="">Managing Cloud Credentials</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/user-settings/preferences/" class="">User Preferences</a>
        </li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/api/" class="">API<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/api/api-tokens/" class="">API Tokens</a>
        </li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/security/" class="submenu-indicator-minus">Security<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap ">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/security/security-scan/" class="">Security Scans</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/security/hardening-2.3.5/" class="">Hardening Guide v2.3.5</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/security/hardening-2.3.3/" class="">Hardening Guide v2.3.3</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/security/hardening-2.3/" class="">Hardening Guide v2.3</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/security/hardening-2.2/" class="">Hardening Guide v2.2</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/security/hardening-2.1/" class="">Hardening Guide v2.1</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/security/benchmark-2.3.5/" class="">CIS Benchmark Rancher Self-Assessment Guide - v2.3.5</a>
        </li>

  <li class="tree-nav-item active">
        <a href="/docs/rancher/v2.x/en/security/benchmark-2.3.3/" class="submenu-indicator-minus">CIS Benchmark Rancher Self-Assessment Guide - Rancher v2.3.3</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/security/benchmark-2.3/" class="">CIS Benchmark Rancher Self-Assessment Guide v2.3</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/security/benchmark-2.2/" class="">CIS Benchmark Rancher Self-Assessment Guide v2.2</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/security/benchmark-2.1/" class="">CIS Benchmark Rancher Self-Assessment Guide v2.1</a>
        </li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/faq/" class="">FAQ<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/faq/upgrades-to-2x/" class="">Questions about Upgrading to Rancher v2.x</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/faq/kubectl/" class="">Installing and Configuring kubectl</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/faq/networking/" class="">Networking<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/faq/networking/cni-providers/" class="">Container Network Interface (CNI) Providers</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/faq/technical/" class="">Technical</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/faq/security/" class="">Security</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/faq/telemetry/" class="">Telemetry</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/faq/removing-rancher/" class="">Rancher is No Longer Needed</a>
        </li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/troubleshooting/" class="">Troubleshooting<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/troubleshooting/kubernetes-components/" class="">Kubernetes Components<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/troubleshooting/kubernetes-components/etcd/" class="">Troubleshooting etcd Nodes</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/troubleshooting/kubernetes-components/controlplane/" class="">Troubleshooting Controlplane Nodes</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/troubleshooting/kubernetes-components/nginx-proxy/" class="">Troubleshooting nginx-proxy</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/troubleshooting/kubernetes-components/worker-and-generic/" class="">Troubleshooting Worker Nodes and Generic Components</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/troubleshooting/kubernetes-resources/" class="">Kubernetes resources</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/troubleshooting/networking/" class="">Networking</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/troubleshooting/dns/" class="">DNS</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/troubleshooting/rancherha/" class="">Rancher HA</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/troubleshooting/imported-clusters/" class="">Imported clusters</a>
        </li>
</ul></li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/contributing/" class="">Contributing to Rancher</a>
        </li>

    
      
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/v1.6-migration/" class="">Migrating from v1.6 to v2.x<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/v1.6-migration/kub-intro/" class="">Kubernetes Introduction</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/v1.6-migration/get-started/" class="">1. Get Started</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/v1.6-migration/run-migration-tool/" class="">2. Migrate Your Services<span class="submenu-indicator">
              <span class="object1"></span>
              <span class="object2"></span>
              <span class="object3"></span>
            </span></a>
        
        <ul class="tree-nav-sublist submenu submenus-wrap hide">
  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/v1.6-migration/run-migration-tool/migration-tools-ref/" class="">Migration Tools CLI Reference</a>
        </li>
</ul></li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/v1.6-migration/expose-services/" class="">3. Expose Your Services</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/v1.6-migration/monitor-apps/" class="">4. Configure Health Checks</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/v1.6-migration/schedule-workloads/" class="">5. Schedule Your Services</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/v1.6-migration/discover-services/" class="">6. Service Discovery</a>
        </li>

  <li class="tree-nav-item ">
        <a href="/docs/rancher/v2.x/en/v1.6-migration/load-balancing/" class="">7. Load Balancing</a>
        </li>
</ul></li>

    
  </ul>
</div>



        
      </div>
      <div class="
        col-xl-9
        col-lg-8
        col-md-8
        col-sm-12
        col-xs-12
        col-12
        texts-container">
        <div class="docs-wrap">
            
            <h1 class="m-t-0">CIS Benchmark Rancher Self-Assessment Guide - Rancher v2.3.3</h1>
            <hr/>
          

          

          <div class="main-content docs-body">
            
            
            
            

<p>This document is a companion to the Rancher v2.3.3 security hardening guide. The hardening guide provides prescriptive guidance for hardening a production installation of Rancher, and this benchmark guide is meant to help you evaluate the level of security of the hardened cluster against each control in the benchmark.</p>

<p>This guide corresponds to specific versions of the hardening guide, Rancher, Kubernetes, and the CIS Benchmark:</p>

<table>
<thead>
<tr>
<th>Self Assessment Guide Version</th>
<th>Rancher Version</th>
<th>Hardening Guide Version</th>
<th>Kubernetes Version</th>
<th>CIS Benchmark Version</th>
</tr>
</thead>

<tbody>
<tr>
<td>Self Assessment Guide v2.3.3</td>
<td>Rancher v2.3.3</td>
<td>Hardening Guide v2.3.3</td>
<td>Kubernetes v1.16</td>
<td>Benchmark v1.4.1</td>
</tr>
</tbody>
</table>

<p><a href="https://releases.rancher.com/documents/security/2.3.x/Rancher_Benchmark_Assessment.pdf">Click here to download a PDF version of this document</a></p>

<blockquote>
<p>The CIS Benchmark version v1.4.1 covers the security posture of Kubernetes 1.13 clusters. This self-assessment has been run against Kubernetes 1.16, using the guidelines outlined in the CIS v1.4.1 benchmark. Updates to the CIS benchmarks will be applied to this document as they are released.</p>
</blockquote>

<p>Because Rancher and RKE install Kubernetes services as Docker containers, many of the control verification checks in the CIS Kubernetes Benchmark don&rsquo;t apply. This guide will walk through the various controls and provide updated example commands to audit compliance in Rancher-created clusters.</p>

<p>This document is to be used by Rancher operators, security teams, auditors and decision makers.</p>

<p>For more detail about each audit, including rationales and remediations for failing tests, you can refer to the corresponding section of the CIS Kubernetes Benchmark v1.4.1. You can download the benchmark after logging in to <a href="https://www.cisecurity.org/benchmark/kubernetes/">CISecurity.org</a>.</p>

<h4 id="testing-controls-methodology">Testing controls methodology</h4>

<p>Rancher and RKE install Kubernetes services via Docker containers. Configuration is defined by arguments passed to the container at the time of initialization, not via configuration files.</p>

<p>Scoring the commands is different in Rancher Labs than in the CIS Benchmark. Where the commands differ from the original CIS benchmark, the commands specific to Rancher Labs are provided for testing.</p>

<p>When performing the tests, you will need access to the Docker command line on the hosts of all three RKE roles. The commands also make use of the the <code>jq</code> command to provide human-readable formatting.</p>

<h4 id="known-scored-control-failures">Known Scored Control Failures</h4>

<p>The following scored controls do not currently pass, and Rancher Labs is working towards addressing these through future enhancements to the product.</p>

<ul>
<li>1.1.21 - Ensure that the <code>--kubelet-certificate-authority</code> argument is set as appropriate (Scored)</li>
<li>2.1.8 - Ensure that the <code>--hostname-override</code> argument is not set (Scored)</li>
</ul>

<h3 id="controls">Controls</h3>

<hr />

<h2 id="1-master-node-security-configuration">1 - Master Node Security Configuration</h2>

<h3 id="1-1-api-server">1.1 - API Server</h3>

<h4 id="1-1-1-ensure-that-the-anonymous-auth-argument-is-set-to-false-scored">1.1.1 - Ensure that the <code>--anonymous-auth</code> argument is set to <code>false</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--anonymous-auth=false&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--anonymous-auth=false</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-2-ensure-that-the-basic-auth-file-argument-is-not-set-scored">1.1.2 - Ensure that the <code>--basic-auth-file</code> argument is not set (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--basic-auth-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong>  <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-3-ensure-that-the-insecure-allow-any-token-argument-is-not-set-scored">1.1.3 - Ensure that the <code>--insecure-allow-any-token</code> argument is not set (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--insecure-allow-any-token&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong>  <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-4-ensure-that-the-kubelet-https-argument-is-set-to-true-scored">1.1.4 - Ensure that the <code>--kubelet-https</code> argument is set to <code>true</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--kubelet-https=false&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-5-ensure-that-the-insecure-bind-address-argument-is-not-set-scored">1.1.5 - Ensure that the <code>--insecure-bind-address</code> argument is not set (Scored)</h4>

<p><strong>Notes</strong></p>

<p>Flag not set or <code>--insecure-bind-address=127.0.0.1</code>. RKE sets this flag to <code>--insecure-bind-address=127.0.0.1</code></p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--insecure-bind-address=(?:(?!127\\.0\\.0\\.1).)+&#34;)&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-6-ensure-that-the-insecure-port-argument-is-set-to-0-scored">1.1.6 - Ensure that the <code>--insecure-port argument</code> is set to <code>0</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--insecure-port=0&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--insecure-port=0</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-7-ensure-that-the-secure-port-argument-is-not-set-to-0-scored">1.1.7 - Ensure that the <code>--secure-port</code> argument is not set to <code>0</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--secure-port=6443&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--secure-port=6443</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-8-ensure-that-the-profiling-argument-is-set-to-false-scored">1.1.8 - Ensure that the <code>--profiling</code> argument is set to <code>false</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--profiling=false&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--profiling=false</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-9-ensure-that-the-repair-malformed-updates-argument-is-set-to-false-scored">1.1.9 - Ensure that the <code>--repair-malformed-updates</code> argument is set to <code>false</code> (Scored)</h4>

<p><strong>Note:</strong> This deprecated flag was removed in 1.14, so it cannot be set.</p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-10-ensure-that-the-admission-control-plugin-alwaysadmit-is-not-set-scored">1.1.10 - Ensure that the admission control plugin <code>AlwaysAdmit</code> is not set (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--enable-admission-plugins=.*(AlwaysAdmit).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-11-ensure-that-the-admission-control-plugin-alwayspullimages-is-set-scored">1.1.11 - Ensure that the admission control plugin <code>AlwaysPullImages</code> is set (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--enable-admission-plugins=.*(AlwaysPullImages).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>AlwaysPullImages</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-12-ensure-that-the-admission-control-plugin-denyescalatingexec-is-set-scored">1.1.12 - Ensure that the admission control plugin <code>DenyEscalatingExec</code> is set (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--enable-admission-plugins=.*(DenyEscalatingExec).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>DenyEscalatingExec</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-13-ensure-that-the-admission-control-plugin-securitycontextdeny-is-set-not-scored">1.1.13 - Ensure that the admission control plugin <code>SecurityContextDeny</code> is set (Not Scored)</h4>

<p><strong>Notes</strong></p>

<p>This <strong>SHOULD NOT</strong> be set if you are using a <code>PodSecurityPolicy</code> (PSP). From the CIS Benchmark document:</p>

<blockquote>
<p>This admission controller should only be used where Pod Security Policies cannot be used on the cluster, as it can interact poorly with certain Pod Security Policies</p>
</blockquote>

<p>Several system services (such as <code>nginx-ingress</code>) utilize <code>SecurityContext</code> to switch users and assign capabilities. These exceptions to the general principle of not allowing privilege or capabilities can be managed with PSP.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--enable-admission-plugins=.*(SecurityContextDeny).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Document</p>

<h4 id="1-1-14-ensure-that-the-admission-control-plugin-namespacelifecycle-is-set-scored">1.1.14 - Ensure that the admission control plugin <code>NamespaceLifecycle</code> is set (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--enable-admission-plugins=.*(NamespaceLifecycle).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>NamespaceLifecycle</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-15-ensure-that-the-audit-log-path-argument-is-set-as-appropriate-scored">1.1.15 - Ensure that the <code>--audit-log-path</code> argument is set as appropriate (Scored)</h4>

<p><strong>Notes</strong></p>

<p>This path is the path inside of the container.  It&rsquo;s combined with the RKE <code>cluster.yml</code> <code>extra-binds:</code> option to map the audit log to the host filesystem.</p>

<p>Audit logs should be collected and shipped off-system to guarantee their integrity.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--audit-log-path=/var/log/kube-audit/audit-log.json&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--audit-log-log=/var/log/kube-audit/audit-log.json</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-16-ensure-that-the-audit-log-maxage-argument-is-set-to-30-or-as-appropriate-scored">1.1.16 - Ensure that the <code>--audit-log-maxage</code> argument is set to <code>30</code> or as appropriate (Scored)</h4>

<p><strong>Notes</strong></p>

<p>Audit logs should be collected and shipped off-system to guarantee their integrity. Rancher Labs recommends setting this argument to a low value to prevent audit logs from filling the local disk.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--audit-log-maxage=\\d+&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--audit-log-maxage=30</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-17-ensure-that-the-audit-log-maxbackup-argument-is-set-to-10-or-as-appropriate-scored">1.1.17 - Ensure that the <code>--audit-log-maxbackup</code> argument is set to <code>10</code> or as appropriate (Scored)</h4>

<p><strong>Notes</strong></p>

<p>Audit logs should be collected and shipped off-system to guarantee their integrity. Rancher Labs recommends setting this argument to a low value to prevent audit logs from filling the local disk.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--audit-log-maxbackup=\\d+&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--audit-log-maxbackup=10</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-18-ensure-that-the-audit-log-maxsize-argument-is-set-to-100-or-as-appropriate-scored">1.1.18 - Ensure that the <code>--audit-log-maxsize</code> argument is set to <code>100</code> or as appropriate (Scored)</h4>

<p><strong>Notes</strong></p>

<p>Audit logs should be collected and shipped off-system to guarantee their integrity.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--audit-log-maxsize=\\d+&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--audit-log-maxsize=100</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-19-ensure-that-the-authorization-mode-argument-is-not-set-to-alwaysallow-scored">1.1.19 - Ensure that the <code>--authorization-mode</code> argument is not set to <code>AlwaysAllow</code> (Scored)</h4>

<p><strong>Audit</strong></p>

<pre><code>docker inspect kube-apiserver | jq -e '.[0].Args[] | match(&quot;--authorization-mode=(Node|RBAC|,)+&quot;).string'
</code></pre>

<p><strong>Returned Value:</strong> <code>--authorization-mode=Node,RBAC</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-20-ensure-that-the-token-auth-file-parameter-is-not-set-scored">1.1.20 - Ensure that the <code>--token-auth-file</code> parameter is not set (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--token-auth-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-21-ensure-that-the-kubelet-certificate-authority-argument-is-set-as-appropriate-scored">1.1.21 - Ensure that the <code>--kubelet-certificate-authority</code> argument is set as appropriate (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--kubelet-certificate-authority=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--kubelet-certificate-authority=/etc/kubernetes/ssl/kube-ca.pem</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-22-ensure-that-the-kubelet-client-certificate-and-kubelet-client-key-arguments-are-set-as-appropriate-scored">1.1.22 - Ensure that the <code>--kubelet-client-certificate</code> and <code>--kubelet-client-key</code> arguments are set as appropriate (Scored)</h4>

<p><strong>Audit</strong> (<code>--kubelet-client-certificate</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--kubelet-client-certificate=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--kubelet-client-certificate=/etc/kubernetes/ssl/kube-apiserver.pem</code></p>

<p><strong>Audit</strong> (<code>--kubelet-client-key</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--kubelet-client-key=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--kubelet-client-key=/etc/kubernetes/ssl/kube-apiserver-key.pem</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-23-ensure-that-the-service-account-lookup-argument-is-set-to-true-scored">1.1.23 Ensure that the <code>--service-account-lookup</code> argument is set to <code>true</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--service-account-lookup=true&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--service-account-lookup=true</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-24-ensure-that-the-admission-control-plugin-podsecuritypolicy-is-set-scored">1.1.24 - Ensure that the admission control plugin <code>PodSecurityPolicy</code> is set (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--enable-admission-plugins=.*(PodSecurityPolicy).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>PodSecurityPolicy</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-25-ensure-that-the-service-account-key-file-argument-is-set-as-appropriate-scored">1.1.25 - Ensure that the <code>--service-account-key-file</code> argument is set as appropriate (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--service-account-key-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--service-account-key-file=/etc/kubernetes/ssl/kube-service-account-token-key.pem</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-26-ensure-that-the-etcd-certfile-and-etcd-keyfile-arguments-are-set-as-appropriate-scored">1.1.26 - Ensure that the <code>--etcd-certfile</code> and <code>--etcd-keyfile</code> arguments are set as appropriate (Scored)</h4>

<p><strong>Audit</strong> (<code>--etcd-certfile</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--etcd-certfile=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--etcd-certfile=/etc/kubernetes/ssl/kube-node.pem</code></p>

<p><strong>Audit</strong> (<code>--etcd-keyfile</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--etcd-keyfile=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--etcd-keyfile=/etc/kubernetes/ssl/kube-node-key.pem</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-27-ensure-that-the-admission-control-plugin-serviceaccount-is-set-scored">1.1.27 - Ensure that the admission control plugin <code>ServiceAccount</code> is set (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--enable-admission-plugins=.*(ServiceAccount).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>ServiceAccount</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-28-ensure-that-the-tls-cert-file-and-tls-private-key-file-arguments-are-set-as-appropriate-scored">1.1.28 - Ensure that the <code>--tls-cert-file</code> and <code>--tls-private-key-file</code> arguments are set as appropriate (Scored)</h4>

<p><strong>Audit</strong> (<code>--tls-cert-file</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cert-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--tls-cert-file=/etc/kubernetes/ssl/kube-apiserver.pem</code></p>

<p><strong>Audit</strong> (<code>--tls-key-file</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-private-key-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--tls-private-key-file=/etc/kubernetes/ssl/kube-apiserver-key.pem</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-29-ensure-that-the-client-ca-file-argument-is-set-as-appropriate-scored">1.1.29 - Ensure that the <code>--client-ca-file</code> argument is set as appropriate (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--client-ca-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--client-ca-file=/etc/kubernetes/ssl/kube-ca.pem</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-30-ensure-that-the-api-server-only-makes-use-of-strong-cryptographic-ciphers-not-scored">1.1.30 - Ensure that the API Server only makes use of strong cryptographic ciphers (Not Scored)</h4>

<p><strong>Audit</strong> (Allowed Ciphers)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256</code></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</code></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305</code></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305</code></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384</code></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_RSA_WITH_AES_256_GCM_SHA384).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_RSA_WITH_AES_256_GCM_SHA384</code></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_RSA_WITH_AES_128_GCM_SHA256).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_RSA_WITH_AES_128_GCM_SHA256</code></p>

<p><strong>Audit</strong> (Disallowed Ciphers)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(CBC).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(RC4).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-31-ensure-that-the-etcd-cafile-argument-is-set-as-appropriate-scored">1.1.31 - Ensure that the <code>--etcd-cafile</code> argument is set as appropriate (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--etcd-cafile=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--etcd-cafile=/etc/kubernetes/ssl/kube-ca.pem</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-32-ensure-that-the-authorization-mode-argument-includes-node-scored">1.1.32 - Ensure that the <code>--authorization-mode</code> argument includes Node (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--authorization-mode=(Node|RBAC|,)+&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--authorization-mode=Node,RBAC</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-33-ensure-that-the-admission-control-plugin-noderestriction-is-set-scored">1.1.33 - Ensure that the admission control plugin <code>NodeRestriction</code> is set (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--enable-admission-plugins=.*(NodeRestriction).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>NodeRestriction</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-34-ensure-that-the-experimental-encryption-provider-config-argument-is-set-as-appropriate-scored">1.1.34 - Ensure that the <code>--experimental-encryption-provider-config</code> argument is set as appropriate (Scored)</h4>

<p><strong>Notes</strong>
In Kubernetes 1.16.x this flag is <code>--encryption-provider-config</code></p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--encryption-provider-config=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>encryption-provider-config=/etc/kubernetes/ssl/encryption.yaml</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-35-ensure-that-the-encryption-provider-is-set-to-aescbc-scored">1.1.35 - Ensure that the encryption provider is set to aescbc (Scored)</h4>

<p><strong>Notes</strong></p>

<p>Only the first provider in the list is active.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">grep -A <span style="color:#3677a9">1</span> providers: /etc/kubernetes/ssl/encryption.yaml | grep aescbc</code></pre></div>
<p><strong>Returned Value:</strong>  <code>- aescbc:</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-36-ensure-that-the-admission-control-plugin-eventratelimit-is-set-scored">1.1.36 - Ensure that the admission control plugin <code>EventRateLimit</code> is set (Scored)</h4>

<p><strong>Notes</strong></p>

<p>The <code>EventRateLimit</code> plugin requires setting the <code>--admission-control-config-file</code> option and configuring details in the following files:</p>

<ul>
<li><code>/etc/kubernetes/admission.yaml</code></li>
</ul>

<p>See Host Configuration for details.</p>

<p><strong>Audit</strong> (Admissions plugin)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--enable-admission-plugins=.*(EventRateLimit).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>EventRateLimit</code></p>

<p><strong>Audit</strong> (<code>--admission-control-config-file</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--admission-control-config-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--admission-control-config-file=/etc/kubernetes/admission.yaml</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-37-ensure-that-the-advancedauditing-argument-is-not-set-to-false-scored">1.1.37 Ensure that the AdvancedAuditing argument is not set to false (Scored)</h4>

<p><strong>Notes</strong></p>

<p><code>AdvancedAuditing=false</code> should not be set, but <code>--audit-policy-file</code> should be set and configured.  See Host Configuration for a sample audit policy file.</p>

<p><strong>Audit</strong> (Feature Gate)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--feature-gates=.*(AdvancedAuditing=false).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Audit</strong> (Audit Policy File)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--audit-policy-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--audit-policy-file=/etc/kubernetes/audit-policy.yaml</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-1-38-ensure-that-the-request-timeout-argument-is-set-as-appropriate-scored">1.1.38 Ensure that the <code>--request-timeout</code> argument is set as appropriate (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE uses the default value of 60s and doesn&rsquo;t set this option. Tuning this value is specific to the environment.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--request-timeout=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="ensure-that-the-authorization-mode-argument-includes-rbac-scored">Ensure that the &ndash;authorization-mode argument includes RBAC (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-apiserver | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--authorization-mode=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>&quot;--authorization-mode=Node,RBAC&quot;</code></p>

<p><strong>Result:</strong> Pass</p>

<h3 id="1-2-scheduler">1.2 - Scheduler</h3>

<h4 id="1-2-1-ensure-that-the-profiling-argument-is-set-to-false-scored">1.2.1 - Ensure that the <code>--profiling</code> argument is set to false (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-scheduler | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--profiling=false&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--profiling=false</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-2-2-ensure-that-the-address-argument-is-set-to-127-0-0-1-scored">1.2.2 - Ensure that the <code>--address</code> argument is set to 127.0.0.1 (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-scheduler | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--address=127\\.0\\.0\\.1&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--address=127.0.0.1</code></p>

<p><strong>Result:</strong> Pass</p>

<h3 id="1-3-controller-manager">1.3 - Controller Manager</h3>

<h4 id="1-3-1-ensure-that-the-terminated-pod-gc-threshold-argument-is-set-as-appropriate-scored">1.3.1 - Ensure that the <code>--terminated-pod-gc-threshold</code> argument is set as appropriate (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-controller-manager | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--terminated-pod-gc-threshold=\\d+&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--terminated-pod-gc-threshold=1000</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-3-2-ensure-that-the-profiling-argument-is-set-to-false-scored">1.3.2 - Ensure that the <code>--profiling</code> argument is set to false (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-controller-manager | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--profiling=false&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--profiling=false</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-3-3-ensure-that-the-use-service-account-credentials-argument-is-set-to-true-scored">1.3.3 - Ensure that the <code>--use-service-account-credentials</code> argument is set to true (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-controller-manager | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--use-service-account-credentials=true&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--use-service-account-credentials=true</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-3-4-ensure-that-the-service-account-private-key-file-argument-is-set-as-appropriate-scored">1.3.4 - Ensure that the <code>--service-account-private-key-file</code> argument is set as appropriate (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-controller-manager | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--service-account-private-key-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--service-account-private-key-file=/etc/kubernetes/ssl/kube-service-account-token-key.pem</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-3-5-ensure-that-the-root-ca-file-argument-is-set-as-appropriate-scored">1.3.5 - Ensure that the <code>--root-ca-file</code> argument is set as appropriate (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-controller-manager | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--root-ca-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--root-ca-file=/etc/kubernetes/ssl/kube-ca.pem</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-3-6-ensure-that-the-rotatekubeletservercertificate-argument-is-set-to-true-scored">1.3.6 - Ensure that the RotateKubeletServerCertificate argument is set to true (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE does not yet support certificate rotation. This feature is due for the 0.1.12 release of RKE.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-controller-manager | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--feature-gates=.*(RotateKubeletServerCertificate=true).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>RotateKubeletServerCertificate=true</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-3-7-ensure-that-the-address-argument-is-set-to-127-0-0-1-scored">1.3.7 - Ensure that the <code>--address</code> argument is set to 127.0.0.1 (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kube-controller-manager | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--address=127\\.0\\.0\\.1&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--address=127.0.0.1</code></p>

<p><strong>Result:</strong> Pass</p>

<h3 id="1-4-configuration-files">1.4 - Configuration Files</h3>

<h4 id="1-4-1-ensure-that-the-api-server-pod-specification-file-permissions-are-set-to-644-or-more-restrictive-scored">1.4.1 - Ensure that the API server pod specification file permissions are set to 644 or more restrictive (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE doesn&rsquo;t require or maintain a configuration file for kube-apiserver. All configuration is passed in as arguments at container run time.</p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>

<h4 id="1-4-2-ensure-that-the-api-server-pod-specification-file-ownership-is-set-to-root-root-scored">1.4.2 - Ensure that the API server pod specification file ownership is set to <code>root:root</code> (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE doesn&rsquo;t require or maintain a configuration file for kube-apiserver. All configuration is passed in as arguments at container run time.</p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>

<h4 id="1-4-3-ensure-that-the-controller-manager-pod-specification-file-permissions-are-set-to-644-or-more-restrictive-scored">1.4.3 - Ensure that the controller manager pod specification file permissions are set to <code>644</code> or more restrictive (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE doesn&rsquo;t require or maintain a configuration file for <code>kube-controller-manager</code>. All configuration is passed in as arguments at container run time.</p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>

<h4 id="1-4-4-ensure-that-the-controller-manager-pod-specification-file-ownership-is-set-to-root-root-scored">1.4.4 - Ensure that the controller manager pod specification file ownership is set to <code>root:root</code> (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE doesn&rsquo;t require or maintain a configuration file for <code>kube-controller-manager</code>. All configuration is passed in as arguments at container run time.</p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>

<h4 id="1-4-5-ensure-that-the-scheduler-pod-specification-file-permissions-are-set-to-644-or-more-restrictive-scored">1.4.5 - Ensure that the scheduler pod specification file permissions are set to <code>644</code> or more restrictive (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE doesn&rsquo;t require or maintain a configuration file for <code>kube-scheduler</code>. All configuration is passed in as arguments at container run time.</p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>

<h4 id="1-4-6-ensure-that-the-scheduler-pod-specification-file-ownership-is-set-to-root-root-scored">1.4.6 - Ensure that the scheduler pod specification file ownership is set to <code>root:root</code> (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE doesn&rsquo;t require or maintain a configuration file for kube-scheduler. All configuration is passed in as arguments at container run time.</p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>

<h4 id="1-4-7-ensure-that-the-etcd-pod-specification-file-permissions-are-set-to-644-or-more-restrictive-scored">1.4.7 - Ensure that the <code>etcd</code> pod specification file permissions are set to <code>644</code> or more restrictive (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE doesn&rsquo;t require or maintain a configuration file for etcd. All configuration is passed in as arguments at container run time.</p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>

<h4 id="1-4-8-ensure-that-the-etcd-pod-specification-file-ownership-is-set-to-root-root-scored">1.4.8 - Ensure that the <code>etcd</code> pod specification file ownership is set to <code>root:root</code> (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE doesn&rsquo;t require or maintain a configuration file for etcd. All configuration is passed in as arguments at container run time.</p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>

<h4 id="1-4-9-ensure-that-the-container-network-interface-file-permissions-are-set-to-644-or-more-restrictive-not-scored">1.4.9 - Ensure that the Container Network Interface file permissions are set to <code>644</code> or more restrictive (Not Scored)</h4>

<p><strong>Notes</strong></p>

<p>This is a manual check.</p>

<p><strong>Audit</strong> (<code>/var/lib/cni/networks/k8s-pod-network</code>)</p>

<p><strong>Note</strong>
This may return a lockfile. Permissions on this file do not need to be as restrictive as the CNI files.</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c <span style="color:#ed9d13">&#34;%n - %a&#34;</span> /var/lib/cni/networks/k8s-pod-network/*</code></pre></div>
<p><strong>Returned Value:</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">/var/lib/cni/networks/k8s-pod-network/10.42.0.2 - <span style="color:#3677a9">644</span>
/var/lib/cni/networks/k8s-pod-network/10.42.0.3 - <span style="color:#3677a9">644</span>
/var/lib/cni/networks/k8s-pod-network/last_reserved_ip.0 - <span style="color:#3677a9">644</span>
/var/lib/cni/networks/k8s-pod-network/lock - <span style="color:#3677a9">750</span></code></pre></div>
<p><strong>Audit</strong> (<code>/etc/cni/net.d</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c <span style="color:#ed9d13">&#34;%n - %a&#34;</span> /etc/cni/net.d/*</code></pre></div>
<p><strong>Returned Value:</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">/etc/cni/net.d/10-canal.conflist - <span style="color:#3677a9">644</span>
/etc/cni/net.d/calico-kubeconfig - <span style="color:#3677a9">600</span></code></pre></div>
<p><strong>Result:</strong> Pass</p>

<h4 id="1-4-10-ensure-that-the-container-network-interface-file-ownership-is-set-to-root-root-not-scored">1.4.10 - Ensure that the Container Network Interface file ownership is set to <code>root:root</code> (Not Scored)</h4>

<p><strong>Notes</strong></p>

<p>This is a manual check.</p>

<p><strong>Audit</strong> (<code>/var/lib/cni/networks/k8s-pod-network</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c <span style="color:#ed9d13">&#34;%n - %U:%G&#34;</span> /var/lib/cni/networks/k8s-pod-network/*</code></pre></div>
<p><strong>Returned Value:</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">/var/lib/cni/networks/k8s-pod-network/10.42.0.2 - root:root
/var/lib/cni/networks/k8s-pod-network/10.42.0.3 - root:root
/var/lib/cni/networks/k8s-pod-network/last_reserved_ip.0 - root:root
/var/lib/cni/networks/k8s-pod-network/lock - root:root</code></pre></div>
<p><strong>Audit</strong> (<code>/etc/cni/net.d</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c <span style="color:#ed9d13">&#34;%n - %U:%G&#34;</span> /etc/cni/net.d/*</code></pre></div>
<p><strong>Returned Value:</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">/etc/cni/net.d/10-canal.conflist - root:root
/etc/cni/net.d/calico-kubeconfig - root:root</code></pre></div>
<p><strong>Result:</strong> Pass</p>

<h4 id="1-4-11-ensure-that-the-etcd-data-directory-permissions-are-set-to-700-or-more-restrictive-scored">1.4.11 - Ensure that the etcd data directory permissions are set to <code>700</code> or more restrictive (Scored)</h4>

<p><strong>Notes</strong></p>

<p>Files underneath the data dir have permissions set to <code>700</code></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c <span style="color:#ed9d13">&#34;%n - %a&#34;</span> /var/lib/etcd/*

/var/lib/etcd/member - <span style="color:#3677a9">700</span></code></pre></div>
<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c %a /var/lib/etcd</code></pre></div>
<p><strong>Returned Value:</strong> <code>700</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-4-12-ensure-that-the-etcd-data-directory-ownership-is-set-to-etcd-etcd-scored">1.4.12 - Ensure that the <code>etcd</code> data directory ownership is set to <code>etcd:etcd</code> (Scored)</h4>

<p><strong>Notes</strong></p>

<p>The <code>etcd</code> container runs as the <code>etcd</code> user. The data directory and files are owned by <code>etcd</code>.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c %U:%G /var/lib/etcd</code></pre></div>
<p><strong>Returned Value:</strong> <code>etcd:etcd</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-4-13-ensure-that-the-file-permissions-for-admin-conf-are-set-to-644-or-more-restrictive-scored">1.4.13 - Ensure that the file permissions for <code>admin.conf</code> are set to <code>644</code> or more restrictive (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE does not store the kubernetes default kubeconfig credentials file on the nodes.  It&rsquo;s presented to user where RKE is run. We recommend that this kube_config_cluster.yml file be kept in secure store.</p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>

<h4 id="1-4-14-ensure-that-ownership-of-admin-conf-is-set-to-root-root-scored">1.4.14 - Ensure that ownership of <code>admin.conf</code> is set to <code>root:root</code> (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE does not store the default <code>kubectl</code> config credentials file on the nodes.  It presents credentials to the user when <code>rke</code> is first run, and only on the device where the user ran the command. Rancher Labs recommends that this <code>kube_config_cluster.yml</code> file be kept in secure store.</p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>

<h4 id="1-4-15-ensure-that-the-file-permissions-for-scheduler-conf-are-set-to-644-or-more-restrictive-scored">1.4.15 - Ensure that the file permissions for <code>scheduler.conf</code> are set to <code>644</code> or more restrictive (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c %a /etc/kubernetes/ssl/kubecfg-kube-scheduler.yaml</code></pre></div>
<p><strong>Returned Value:</strong> <code>640</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-4-16-ensure-that-the-file-ownership-of-scheduler-conf-is-set-to-root-root-scored">1.4.16 - Ensure that the file ownership of <code>scheduler.conf</code> is set to <code>root:root</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c %U:%G /etc/kubernetes/ssl/kubecfg-kube-scheduler.yaml</code></pre></div>
<p><strong>Returned Value:</strong> <code>root:root</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-4-17-ensure-that-the-file-permissions-for-controller-manager-conf-are-set-to-644-or-more-restrictive-scored">1.4.17 - Ensure that the file permissions for <code>controller-manager.conf</code> are set to <code>644</code> or more restrictive (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c %a /etc/kubernetes/ssl/kubecfg-kube-controller-manager.yaml</code></pre></div>
<p><strong>Returned Value:</strong> <code>640</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-4-18-ensure-that-the-file-ownership-of-controller-manager-conf-is-set-to-root-root-scored">1.4.18 - Ensure that the file ownership of <code>controller-manager.conf</code> is set to <code>root:root</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c %U:%G /etc/kubernetes/ssl/kubecfg-kube-controller-manager.yaml</code></pre></div>
<p><strong>Returned Value:</strong> <code>root:root</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-4-19-ensure-that-the-kubernetes-pki-directory-and-file-ownership-is-set-to-root-root-scored">1.4.19 - Ensure that the Kubernetes PKI directory and file ownership is set to root:root (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ls -laR /etc/kubernetes/ssl/ |grep -v yaml</code></pre></div>
<p><strong>Returned Value:</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">total <span style="color:#3677a9">128</span>
drwxr-xr-x <span style="color:#3677a9">2</span> root root <span style="color:#3677a9">4096</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 .
drwxr-xr-x <span style="color:#3677a9">4</span> root root <span style="color:#3677a9">4096</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 ..
-rw------- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1679</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-apiserver-key.pem
-rw------- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1679</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-apiserver-proxy-client-key.pem
-rw-r--r-- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1107</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-apiserver-proxy-client.pem
-rw------- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1675</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-apiserver-requestheader-ca-key.pem
-rw-r--r-- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1082</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-apiserver-requestheader-ca.pem
-rw-r--r-- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1285</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-apiserver.pem
-rw------- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1675</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-ca-key.pem
-rw-r--r-- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1017</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-ca.pem
-rw------- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1679</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-controller-manager-key.pem
-rw-r--r-- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1062</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-controller-manager.pem
-rw------- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1675</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-etcd-172-31-16-161-key.pem
-rw-r--r-- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1277</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-etcd-172-31-16-161.pem
-rw------- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1679</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-etcd-172-31-24-134-key.pem
-rw-r--r-- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1277</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-etcd-172-31-24-134.pem
-rw------- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1675</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-etcd-172-31-30-57-key.pem
-rw-r--r-- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1277</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-etcd-172-31-30-57.pem
-rw------- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1679</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-node-key.pem
-rw-r--r-- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1070</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-node.pem
-rw------- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1679</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-proxy-key.pem
-rw-r--r-- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1046</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-proxy.pem
-rw------- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1679</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-scheduler-key.pem
-rw-r--r-- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1050</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-scheduler.pem
-rw------- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1679</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-service-account-token-key.pem
-rw-r--r-- <span style="color:#3677a9">1</span> root root <span style="color:#3677a9">1285</span> Jul  <span style="color:#3677a9">1</span> <span style="color:#3677a9">19</span>:53 kube-service-account-token.pem</code></pre></div>
<p><strong>Result:</strong> Pass</p>

<h4 id="1-4-20-ensure-that-the-kubernetes-pki-certificate-file-permissions-are-set-to-644-or-more-restrictive-scored">1.4.20 - Ensure that the Kubernetes PKI certificate file permissions are set to <code>644</code> or more restrictive (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c <span style="color:#ed9d13">&#34;%n - %a&#34;</span> /etc/kubernetes/ssl/*.pem |grep -v key</code></pre></div>
<p><strong>Returned Value:</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">/etc/kubernetes/ssl/kube-apiserver-proxy-client.pem - <span style="color:#3677a9">640</span>
/etc/kubernetes/ssl/kube-apiserver-requestheader-ca.pem - <span style="color:#3677a9">640</span>
/etc/kubernetes/ssl/kube-apiserver.pem - <span style="color:#3677a9">640</span>
/etc/kubernetes/ssl/kube-ca.pem - <span style="color:#3677a9">640</span>
/etc/kubernetes/ssl/kube-controller-manager.pem - <span style="color:#3677a9">640</span>
/etc/kubernetes/ssl/kube-etcd-172-31-16-161.pem - <span style="color:#3677a9">640</span>
/etc/kubernetes/ssl/kube-etcd-172-31-24-134.pem - <span style="color:#3677a9">640</span>
/etc/kubernetes/ssl/kube-etcd-172-31-30-57.pem - <span style="color:#3677a9">640</span>
/etc/kubernetes/ssl/kube-node.pem - <span style="color:#3677a9">640</span>
/etc/kubernetes/ssl/kube-proxy.pem - <span style="color:#3677a9">640</span>
/etc/kubernetes/ssl/kube-scheduler.pem - <span style="color:#3677a9">640</span>
/etc/kubernetes/ssl/kube-service-account-token.pem - <span style="color:#3677a9">640</span></code></pre></div>
<p><strong>Result:</strong> Pass</p>

<h4 id="1-4-21-ensure-that-the-kubernetes-pki-key-file-permissions-are-set-to-600-scored">1.4.21 - Ensure that the Kubernetes PKI key file permissions are set to 600 (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c <span style="color:#ed9d13">&#34;%n - %a&#34;</span> /etc/kubernetes/ssl/*key*</code></pre></div>
<p><strong>Returned Value:</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">/etc/kubernetes/ssl/kube-apiserver-key.pem - <span style="color:#3677a9">600</span>
/etc/kubernetes/ssl/kube-apiserver-proxy-client-key.pem - <span style="color:#3677a9">600</span>
/etc/kubernetes/ssl/kube-apiserver-requestheader-ca-key.pem - <span style="color:#3677a9">600</span>
/etc/kubernetes/ssl/kube-ca-key.pem - <span style="color:#3677a9">600</span>
/etc/kubernetes/ssl/kube-controller-manager-key.pem - <span style="color:#3677a9">600</span>
/etc/kubernetes/ssl/kube-etcd-172-31-16-161-key.pem - <span style="color:#3677a9">600</span>
/etc/kubernetes/ssl/kube-etcd-172-31-24-134-key.pem - <span style="color:#3677a9">600</span>
/etc/kubernetes/ssl/kube-etcd-172-31-30-57-key.pem - <span style="color:#3677a9">600</span>
/etc/kubernetes/ssl/kube-node-key.pem - <span style="color:#3677a9">600</span>
/etc/kubernetes/ssl/kube-proxy-key.pem - <span style="color:#3677a9">600</span>
/etc/kubernetes/ssl/kube-scheduler-key.pem - <span style="color:#3677a9">600</span>
/etc/kubernetes/ssl/kube-service-account-token-key.pem - <span style="color:#3677a9">600</span></code></pre></div>
<p><strong>Result:</strong> Pass</p>

<h3 id="1-5-etcd">1.5 - etcd</h3>

<h4 id="1-5-1-ensure-that-the-cert-file-and-key-file-arguments-are-set-as-appropriate-scored">1.5.1 - Ensure that the <code>--cert-file</code> and <code>--key-file</code> arguments are set as appropriate (Scored)</h4>

<p><strong>Audit</strong> <code>(--cert-file</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect etcd | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--cert-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Note</strong>
Certificate file name may vary slightly, since it contains the IP of the etcd container.</p>

<p><strong>Returned Value:</strong> <code>--cert-file=/etc/kubernetes/ssl/kube-etcd-172-31-24-134.pem</code></p>

<p><strong>Audit</strong> (<code>--key-file</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect etcd | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--key-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Note</strong>
Key file name may vary slightly, since it contains the IP of the etcd container.</p>

<p><strong>Returned Value:</strong> <code>--key-file=/etc/kubernetes/ssl/kube-etcd-172-31-24-134-key.pem</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-5-2-ensure-that-the-client-cert-auth-argument-is-set-to-true-scored">1.5.2 - Ensure that the <code>--client-cert-auth</code> argument is set to <code>true</code> (Scored)</h4>

<p><strong>Notes</strong></p>

<p>Setting &ldquo;&ndash;client-cert-auth&rdquo; is the equivalent of setting &ldquo;&ndash;client-cert-auth=true&rdquo;.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect etcd | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--client-cert-auth(=true)*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--client-cert-auth</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-5-3-ensure-that-the-auto-tls-argument-is-not-set-to-true-scored">1.5.3 - Ensure that the <code>--auto-tls</code> argument is not set to <code>true</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect etcd | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--auto-tls(?:(?!=false).*)&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-5-4-ensure-that-the-peer-cert-file-and-peer-key-file-arguments-are-set-as-appropriate-scored">1.5.4 - Ensure that the <code>--peer-cert-file</code> and <code>--peer-key-file</code> arguments are set as appropriate (Scored)</h4>

<p><strong>Audit</strong> (<code>--peer-cert-file</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect etcd | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--peer-cert-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Note</strong>
Certificate file name may vary slightly, since it contains the IP of the etcd container.</p>

<p><strong>Returned Value:</strong> <code>--peer-cert-file=/etc/kubernetes/ssl/kube-etcd-172-31-22-135.pem</code></p>

<p><strong>Audit</strong> (<code>--peer-key-file</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect etcd | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--peer-key-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Note</strong>
Key file name may vary slightly, since it contains the IP of the etcd container.</p>

<p><strong>Returned Value:</strong> <code>--peer-key-file=/etc/kubernetes/ssl/kube-etcd-172-31-22-135-key.pem</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-5-5-ensure-that-the-peer-client-cert-auth-argument-is-set-to-true-scored">1.5.5 - Ensure that the <code>--peer-client-cert-auth</code> argument is set to <code>true</code> (Scored)</h4>

<p><strong>Notes</strong></p>

<p>Setting <code>--peer-client-cert-auth</code> is the equivalent of setting <code>--peer-client-cert-auth=true</code>.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect etcd | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--peer-client-cert-auth(=true)*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--peer-client-cert-auth</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-5-6-ensure-that-the-peer-auto-tls-argument-is-not-set-to-true-scored">1.5.6 - Ensure that the <code>--peer-auto-tls</code> argument is not set to <code>true</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect etcd | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--peer-auto-tls(?:(?!=false).*)&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-5-7-ensure-that-a-unique-certificate-authority-is-used-for-etcd-not-scored">1.5.7 - Ensure that a unique Certificate Authority is used for <code>etcd</code> (Not Scored)</h4>

<p><strong>Mitigation</strong></p>

<p>RKE supports connecting to an external etcd cluster. This external cluster could be configured with its own discreet CA.</p>

<p><strong>Notes</strong></p>

<p><code>--trusted-ca-file</code> is set and different from the <code>--client-ca-file</code> used by <code>kube-apiserver</code>.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect etcd | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--trusted-ca-file=(?:(?!/etc/kubernetes/ssl/kube-ca.pem).*)&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass (See Mitigation)</p>

<h4 id="1-6-general-security-primitives">1.6 - General Security Primitives</h4>

<p>These &ldquo;Not Scored&rdquo; controls are implementation best practices. To ease the administrative burden, we recommend that you implement these best practices on your workload clusters by creating clusters with Rancher rather than using RKE alone.</p>

<h4 id="1-6-1-ensure-that-the-cluster-admin-role-is-only-used-where-required-not-scored">1.6.1 - Ensure that the cluster-admin role is only used where required (Not Scored)</h4>

<p>Rancher has built in support for maintaining and enforcing Kubernetes RBAC on your workload clusters.</p>

<p>Rancher has the ability integrate with external authentication sources (LDAP, SAML, AD) allows easy access with unique credentials to your existing users or groups.</p>

<h4 id="1-6-2-create-administrative-boundaries-between-resources-using-namespaces-not-scored">1.6.2 - Create administrative boundaries between resources using namespaces (Not Scored)</h4>

<p>With Rancher, users or groups can be assigned access to all clusters, a single cluster or a &ldquo;Project&rdquo; (a group of one or more namespaces in a cluster). This allows granular access control to cluster resources.</p>

<h4 id="1-6-3-create-network-segmentation-using-network-policies-not-scored">1.6.3 - Create network segmentation using Network Policies (Not Scored)</h4>

<p>Rancher can (optionally) automatically create Network Policies to isolate &ldquo;Projects&rdquo; (a group of one or more namespaces) in a cluster.</p>

<p>See &ldquo;Cluster Options&rdquo; when creating a cluster with Rancher to turn on Network Isolation.</p>

<h4 id="1-6-4-ensure-that-the-seccomp-profile-is-set-to-docker-default-in-your-pod-definitions-not-scored">1.6.4 - Ensure that the <code>seccomp</code> profile is set to <code>docker/default</code> in your pod definitions (Not Scored)</h4>

<p>Since this requires the enabling of AllAlpha feature gates we would not recommend enabling this feature at the moment.</p>

<h4 id="1-6-5-apply-security-context-to-your-pods-and-containers-not-scored">1.6.5 - Apply security context to your pods and containers (Not Scored)</h4>

<p>This practice does go against control 1.1.13, but we prefer using a PodSecurityPolicy and allowing security context to be set over a blanket deny.</p>

<p>Rancher allows users to set various Security Context options when launching pods via the GUI interface.</p>

<h4 id="1-6-6-configure-image-provenance-using-the-imagepolicywebhook-admission-controller-not-scored">1.6.6 - Configure image provenance using the <code>ImagePolicyWebhook</code> admission controller (Not Scored)</h4>

<p>Image Policy Webhook requires a 3rd party service to enforce policy. This can be configured in the <code>--admission-control-config-file</code>.  See the Host configuration section for the admission.yaml file.</p>

<h4 id="1-6-7-configure-network-policies-as-appropriate-not-scored">1.6.7 - Configure network policies as appropriate (Not Scored)</h4>

<p>Rancher can (optionally) automatically create Network Policies to isolate projects (a group of one or more namespaces) within a cluster.</p>

<p>See the <em>Cluster Options</em> section when creating a cluster with Rancher to turn on network isolation.</p>

<h4 id="1-6-8-place-compensating-controls-in-the-form-of-podsecuritypolicy-psp-and-rbac-for-privileged-container-usage-not-scored">1.6.8 - Place compensating controls in the form of PodSecurityPolicy (PSP) and RBAC for privileged container usage (Not Scored)</h4>

<p>Section 1.7 of this guide shows how to add and configure a default &ldquo;restricted&rdquo; PSP based on controls.</p>

<p>With Rancher you can create a centrally maintained &ldquo;restricted&rdquo; PSP and deploy it to all of the clusters that Rancher manages.</p>

<h4 id="1-7-pod-security-policies-psp">1.7 - Pod Security Policies (PSP)</h4>

<p>This RKE configuration has two Pod Security Policies.</p>

<ul>
<li><code>default-psp</code>: assigned to namespaces that require additional privileged access:  <code>kube-system</code>, <code>ingress-nginx</code> and <code>cattle-system</code>.</li>
<li><code>restricted-psp</code>: This is the cluster default PSP and follows the best practices defined by controls in this section.</li>
</ul>

<h4 id="1-7-1-do-not-admit-privileged-containers-not-scored">1.7.1 - Do not admit privileged containers (Not Scored)</h4>

<p><strong>Notes</strong></p>

<p>The restricted PodSecurityPolicy is available to all ServiceAccounts.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl get psp restricted-psp -o <span style="color:#40ffff">jsonpath</span>=<span style="color:#ed9d13">&#39;{.spec.privileged}&#39;</span> | grep <span style="color:#ed9d13">&#34;true&#34;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-7-2-do-not-admit-containers-wishing-to-share-the-host-process-id-namespace-scored">1.7.2 - Do not admit containers wishing to share the host process ID namespace (Scored)</h4>

<p><strong>Notes</strong></p>

<p>The restricted PodSecurityPolicy is available to all ServiceAccounts.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl get psp restricted-psp -o <span style="color:#40ffff">jsonpath</span>=<span style="color:#ed9d13">&#39;{.spec.hostPID}&#39;</span> | grep <span style="color:#ed9d13">&#34;true&#34;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-7-3-do-not-admit-containers-wishing-to-share-the-host-ipc-namespace-scored">1.7.3 - Do not admit containers wishing to share the host IPC namespace (Scored)</h4>

<p><strong>Notes</strong></p>

<p>The restricted PodSecurityPolicy is available to all ServiceAccounts.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl get psp restricted-psp -o <span style="color:#40ffff">jsonpath</span>=<span style="color:#ed9d13">&#39;{.spec.hostIPC}&#39;</span> | grep <span style="color:#ed9d13">&#34;true&#34;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-7-4-do-not-admit-containers-wishing-to-share-the-host-network-namespace-scored">1.7.4 - Do not admit containers wishing to share the host network namespace (Scored)</h4>

<p><strong>Notes</strong></p>

<p>The restricted PodSecurityPolicy is available to all ServiceAccounts.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl get psp restricted-psp -o <span style="color:#40ffff">jsonpath</span>=<span style="color:#ed9d13">&#39;{.spec.hostNetwork}&#39;</span> | grep <span style="color:#ed9d13">&#34;true&#34;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-7-5-do-not-admit-containers-with-allowprivilegeescalation-scored">1.7.5 - Do not admit containers with <code>allowPrivilegeEscalation</code> (Scored)</h4>

<p><strong>Notes</strong></p>

<p>The restricted PodSecurityPolicy is available to all ServiceAccounts.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl get psp restricted-psp -o <span style="color:#40ffff">jsonpath</span>=<span style="color:#ed9d13">&#39;{.spec.allowPrivilegeEscalation}&#39;</span> | grep <span style="color:#ed9d13">&#34;true&#34;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-7-6-do-not-admit-containers-whose-processes-run-as-root-not-scored">1.7.6 - Do not admit containers whose processes run as <code>root</code> (Not Scored)</h4>

<p><strong>Notes</strong></p>

<p>The restricted PodSecurityPolicy is available to all ServiceAccounts.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl get psp restricted-psp -o <span style="color:#40ffff">jsonpath</span>=<span style="color:#ed9d13">&#39;{.spec.runAsUser.rule}&#39;</span> | grep <span style="color:#ed9d13">&#34;RunAsAny&#34;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>RunAsAny</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="1-7-7-do-not-admit-containers-with-dangerous-capabilities-not-scored">1.7.7 - Do not admit containers with dangerous capabilities (Not Scored)</h4>

<p><strong>Notes</strong></p>

<p>The restricted PodSecurityPolicy is available to all ServiceAccounts.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl get psp restricted-psp -o <span style="color:#40ffff">jsonpath</span>=<span style="color:#ed9d13">&#39;{.spec.requiredDropCapabilities}&#39;</span> | grep <span style="color:#ed9d13">&#34;NET_RAW&#34;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h2 id="2-worker-node-security-configuration">2 - Worker Node Security Configuration</h2>

<h3 id="2-1-kubelet">2.1 - Kubelet</h3>

<h4 id="2-1-1-ensure-that-the-anonymous-auth-argument-is-set-to-false-scored">2.1.1 - Ensure that the <code>--anonymous-auth</code> argument is set to <code>false</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--anonymous-auth=false&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--anonymous-auth=false</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-1-2-ensure-that-the-authorization-mode-argument-is-not-set-to-alwaysallow-scored">2.1.2 - Ensure that the <code>--authorization-mode</code> argument is not set to <code>AlwaysAllow</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--authorization-mode=Webhook&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--authorization-mode=Webhook</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-1-3-ensure-that-the-client-ca-file-argument-is-set-as-appropriate-scored">2.1.3 - Ensure that the <code>--client-ca-file</code> argument is set as appropriate (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--client-ca-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--client-ca-file=/etc/kubernetes/ssl/kube-ca.pem</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-1-4-ensure-that-the-read-only-port-argument-is-set-to-0-scored">2.1.4 - Ensure that the <code>--read-only-port</code> argument is set to <code>0</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--read-only-port=0&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--read-only-port=0</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-1-5-ensure-that-the-streaming-connection-idle-timeout-argument-is-not-set-to-0-scored">2.1.5 - Ensure that the <code>--streaming-connection-idle-timeout</code> argument is not set to <code>0</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--streaming-connection-idle-timeout=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--streaming-connection-idle-timeout=30m</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-1-6-ensure-that-the-protect-kernel-defaults-argument-is-set-to-true-scored">2.1.6 - Ensure that the <code>--protect-kernel-defaults</code> argument is set to <code>true</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--protect-kernel-defaults=true&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--protect-kernel-defaults=true</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-1-7-ensure-that-the-make-iptables-util-chains-argument-is-set-to-true-scored">2.1.7 - Ensure that the <code>--make-iptables-util-chains</code> argument is set to <code>true</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--make-iptables-util-chains=true&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--make-iptables-util-chains=true</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-1-8-ensure-that-the-hostname-override-argument-is-not-set-scored">2.1.8 - Ensure that the <code>--hostname-override</code> argument is not set (Scored)</h4>

<p><strong>Notes</strong>
This is used by most cloud providers. Not setting this is not practical in most cases.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--hostname-override=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--hostname-override=&lt;ipv4 address&gt;</code></p>

<p><strong>Result:</strong> Fail</p>

<h4 id="2-1-9-ensure-that-the-event-qps-argument-is-set-to-0-scored">2.1.9 - Ensure that the <code>--event-qps</code> argument is set to <code>0</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--event-qps=0&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--event-qps=0</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-1-10-ensure-that-the-tls-cert-file-and-tls-private-key-file-arguments-are-set-as-appropriate-scored">2.1.10 - Ensure that the <code>--tls-cert-file</code> and <code>--tls-private-key-file</code> arguments are set as appropriate (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE does not set these options and uses the kubelet&rsquo;s self generated certificates for TLS communication. These files are located in the default directory (<code>/var/lib/kubelet/pki</code>).</p>

<p><strong>Audit</strong> (<code>--tls-cert-file</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cert-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--tls-cert-file=/etc/kubernetes/ssl/kube-kubelet-172-31-40-84.pem</code></p>

<p><strong>Audit</strong> (<code>--tls-private-key-file</code>)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-private-key-file=.*&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>--tls-private-key-file=/etc/kubernetes/ssl/kube-kubelet-172-31-40-84-key.pem</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-1-11-ensure-that-the-cadvisor-port-argument-is-set-to-0-scored">2.1.11 - Ensure that the <code>--cadvisor-port</code> argument is set to <code>0</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--cadvisor-port=0&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-1-12-ensure-that-the-rotate-certificates-argument-is-not-set-to-false-scored">2.1.12 - Ensure that the <code>--rotate-certificates</code> argument is not set to <code>false</code> (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE handles certificate rotation through an external process.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--rotate-certificates=true&#34;).string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>

<h4 id="2-1-13-ensure-that-the-rotatekubeletservercertificate-argument-is-set-to-true-scored">2.1.13 - Ensure that the <code>RotateKubeletServerCertificate</code> argument is set to <code>true</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--feature-gates=.*(RotateKubeletServerCertificate=true).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>RotateKubeletServerCertificate=true</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-1-14-ensure-that-the-kubelet-only-makes-use-of-strong-cryptographic-ciphers-not-scored">2.1.14 - Ensure that the kubelet only makes use of strong cryptographic ciphers (Not Scored)</h4>

<p><strong>Audit</strong> (Allowed Ciphers)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256</code></p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</code></p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305</code></p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384</code></p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305</code></p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384</code></p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_RSA_WITH_AES_256_GCM_SHA384).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_RSA_WITH_AES_256_GCM_SHA384</code></p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(TLS_RSA_WITH_AES_128_GCM_SHA256).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>TLS_RSA_WITH_AES_128_GCM_SHA256</code></p>

<p><strong>Audit</strong> (Disallowed Ciphers)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(CBC).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker inspect kubelet | jq -e <span style="color:#ed9d13">&#39;.[0].Args[] | match(&#34;--tls-cipher-suites=.*(RC4).*&#34;).captures[].string&#39;</span></code></pre></div>
<p><strong>Returned Value:</strong> <code>null</code></p>

<p><strong>Result:</strong> Pass</p>

<h3 id="2-2-configuration-files">2.2 - Configuration Files</h3>

<h4 id="2-2-1-ensure-that-the-permissions-for-kubelet-conf-are-set-to-644-or-more-restrictive-scored">2.2.1 - Ensure that the permissions for <code>kubelet.conf</code> are set to <code>644</code> or more restrictive (Scored)</h4>

<p><strong>Notes</strong></p>

<p>This is the value of the <code>--kubeconfig</code> option.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c %a /etc/kubernetes/ssl/kubecfg-kube-node.yaml</code></pre></div>
<p><strong>Returned Value:</strong> <code>640</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-2-2-ensure-that-the-kubelet-conf-file-ownership-is-set-to-root-root-scored">2.2.2 - Ensure that the kubelet.conf file ownership is set to root:root (Scored)</h4>

<p><strong>Notes</strong></p>

<p>This is the value of the <code>--kubeconfig</code> option.</p>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c %U:%G /etc/kubernetes/ssl/kubecfg-kube-node.yaml</code></pre></div>
<p><strong>Returned Value:</strong> <code>root:root</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-2-3-ensure-that-the-kubelet-service-file-permissions-are-set-to-644-or-more-restrictive-scored">2.2.3 - Ensure that the kubelet service file permissions are set to <code>644</code> or more restrictive (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE doesn&rsquo;t require or maintain a configuration file for kubelet. All configuration is passed in as arguments at container run time.</p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>

<h4 id="2-2-4-ensure-that-the-kubelet-service-file-ownership-is-set-to-root-root-scored">2.2.4 - Ensure that the kubelet service file ownership is set to <code>root:root</code> (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE doesn&rsquo;t require or maintain a configuration file for kubelet. All configuration is passed in as arguments at container run time.</p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>

<h4 id="2-2-5-ensure-that-the-proxy-kubeconfig-file-permissions-are-set-to-644-or-more-restrictive-scored">2.2.5 - Ensure that the proxy kubeconfig file permissions are set to <code>644</code> or more restrictive (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c %a /etc/kubernetes/ssl/kubecfg-kube-proxy.yaml</code></pre></div>
<p><strong>Returned Value:</strong> <code>640</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-2-6-ensure-that-the-proxy-kubeconfig-file-ownership-is-set-to-root-root-scored">2.2.6 - Ensure that the proxy kubeconfig file ownership is set to <code>root:root</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c %U:%G /etc/kubernetes/ssl/kubecfg-kube-proxy.yaml</code></pre></div>
<p><strong>Returned Value:</strong> <code>root:root</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-2-7-ensure-that-the-certificate-authorities-file-permissions-are-set-to-644-or-more-restrictive-scored">2.2.7 - Ensure that the certificate authorities file permissions are set to <code>644</code> or more restrictive (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c %a /etc/kubernetes/ssl/kube-ca.pem</code></pre></div>
<p><strong>Returned Value:</strong> <code>640</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-2-8-ensure-that-the-client-certificate-authorities-file-ownership-is-set-to-root-root-scored">2.2.8 - Ensure that the client certificate authorities file ownership is set to <code>root:root</code> (Scored)</h4>

<p><strong>Audit</strong></p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">stat -c %U:%G /etc/kubernetes/ssl/kube-ca.pem</code></pre></div>
<p><strong>Returned Value:</strong> <code>root:root</code></p>

<p><strong>Result:</strong> Pass</p>

<h4 id="2-2-9-ensure-that-the-kubelet-configuration-file-ownership-is-set-to-root-root-scored">2.2.9 - Ensure that the kubelet configuration file ownership is set to <code>root:root</code> (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE doesn&rsquo;t require or maintain a configuration file for kubelet. All configuration is passed in as arguments at container run time.</p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>

<h4 id="2-2-10-ensure-that-the-kubelet-configuration-file-permissions-are-set-to-644-or-more-restrictive-scored">2.2.10 - Ensure that the kubelet configuration file permissions are set to <code>644</code> or more restrictive (Scored)</h4>

<p><strong>Notes</strong></p>

<p>RKE doesn&rsquo;t require or maintain a configuration file for kubelet. All configuration is passed in as arguments at container run time.</p>

<p><strong>Result:</strong> Pass (Not Applicable)</p>


            
            
            </div>
            


            <div class="p-v-xs">
<div class="buttons-container">
    <a href="https://github.com/rancher/docs/edit/master/content/rancher/v2.x/en/security/benchmark-2.3.3/_index.md" class="btn bg-link">
        <button class="button has-icon-right">
            <span>Edit this page</span>
            <svg class="icon right" enable-background="new 0 0 34 34" viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                <g>
                    <path class="svg-linear" d="m19.5 12 5 5-5 5"></path>
                    <path class="svg-linear" d="m24.5 17h-15"></path>
                </g>
            </svg>
        </button>
    </a>
</div>
</div>
          </article>
          
        </div>
      </div>
    </div>
  </section>


  <script>
    $(document).ready(function() {
      $('.guide-menus-activator').click(function() {
        $('.docs-container .side-menus').toggleClass('show');
      });

      
      $("a[href*='#']").click(function(e) {
      

        if ($(this).attr('data-target') === undefined && $(this).attr('href').length > 1) {
          var hash = $(this).attr('href').substring(1),
              objt = $('#' + hash),
              objt_mt = Number(objt.css('margin-top').replace(/[^0-9]/g,"")),
              depth = 80,
              scrn = $(window).width();
              scrn_check = 1025;

          if (scrn < scrn_check) {
            depth = 120;
          }

          if (objt_mt > 0) {
            depth = depth + objt_mt
          }

          if ($(this).attr('href').charAt(0) === '#') {
            var objectTop = $($(this).attr('href')).offset().top;

            setTimeout(function() {
              $('html').scrollTop(objectTop - depth);
            }, 100);
          }
        }
      });
    });
  </script>







  
  

    <footer>

        <div class="footer-container">
            <div class="grid-container informations">
                <div class="row max-sized">
                    <div class="
                        col-xl-3
                        col-lg-3
                        col-md-4
                        col-sm-12
                        col-12">
                        <div class="footer-side-items">
                            <div class="footer-news-letter-form">
                                <div class="label">Get the latest news</div>

                                <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2.js"></script>
                                <script>
                                  hbspt.forms.create({
                                    css: '',
                                    portalId: '468859',
                                    formId: '8beed251-ecf0-49fc-93a1-fa9b1446110f',
                                    translations: {
                                      en: {
                                        submitText: " "
                                      }
                                    }
                                  });
                                </script>
                            </div>

                            <div class="footer-connect-sns">
                                <div class="label">Connect with us</div>

                                <ul>
                                    <li>
                                        <a href="https://twitter.com/Rancher_Labs" target="_blank"><img src="/imgs/icon-twitter.svg"></a>
                                    </li>
                                    <li>
                                        <a href="https://www.linkedin.com/company/rancher" target="_blank"><img src="/imgs/icon-linkedin.svg"></a>
                                    </li>
                                    <li>
                                        <a href="https://www.facebook.com/rancherlabs/" target="_blank"><img src="/imgs/icon-facebook.svg"></a>
                                    </li>
                                    <li>
                                        <a href="https://www.youtube.com/channel/UCh5Xtp82q8wjijP8npkVTBA" target="_blank"><img src="/imgs/icon-youtube.svg"></a>
                                    </li>
                                    <li>
                                        <a href="https://github.com/rancher/rancher" target="_blank"><img src="/imgs/icon-github.svg"></a>
                                    </li>
                                    <li>
                                        <a href="https://slack.rancher.io/" target="_blank"><img src="/imgs/icon-slack.svg"></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="
                        col-xl-8 offset-xl-1
                        col-lg-9 offset-lg-0
                        col-md-8 offset-md-0
                        col-sm-12 offset-sm-0
                        col-12">
                        <div class="row footer-sitemaps">
                            <ul class="
                                col-xl-3
                                col-lg-3
                                col-md-3
                                col-sm-6
                                col-xs-6
                                col-6
                                ">
                                <div class="label">Products</div>
                                <li><a href="/products/rancher/">Rancher</a></li>
                                <li><a href="/products/rke/">RKE</a></li>
                                <li><a href="http://k3s.io" target="_blank">k3s</a></li>
                                <li><a href="https://rio.io/" target="_blank">Rio</a></li>
                                <li><a href="/support/request/">Get Support</a></li>
                                <li><a href="/pricing/">Pricing</a></li>
                                <li><a href="/request-a-demo/">Request a Demo</a></li>
                            </ul>
                            <ul class="
                                col-xl-3
                                col-lg-3
                                col-md-3
                                col-sm-6
                                col-xs-6
                                col-6
                                ">
                                <div class="label">Community</div>
                                <li><a href="/events/">Events</a></li>
                                <li><a href="/online-meetups/">Online Meetups</a></li>
                                <li><a href="/training/">Training</a></li>
                                <li><a href="/tutorials/">Tutorials</a></li>
                                <li><a href="/kubernetes-master-class/">Kubernetes Master Classes</a></li>
                                <li><a href="/writing-program/">Rancher Writing Program</a></li>
                                <li><a href="https://forums.rancher.com/">Forums</a></li>
                                <li><a href="http://slack.rancher.io/">Slack</a></li>
                                <li><a href="https://github.com/rancher/">GitHub</a></li>
                            </ul>
                            <ul class="
                                col-xl-3
                                col-lg-3
                                col-md-3
                                col-sm-6
                                col-xs-6
                                col-6
                                ">
                                <div class="label">Resources</div>
                                <li><a href="/docs/rancher/v2.x/en/">Rancher 2.x Docs</a></li>
                                <li><a href="/docs/rancher/v1.6/en/">Rancher 1.6 Docs</a></li>
                                <li><a href="/docs/rke/latest/en/">RKE Docs</a></li>
                                <li><a href="/docs/k3s/latest/en/">k3s Docs</a></li>
                                <li><a href="/docs/os/v1.x/en/">RancherOS Docs</a></li>
                                <li><a href="/ebooks-and-whitepapers/">eBooks and White Papers</a></li>
                                <li><a href="/videos-and-podcasts/">Videos and Podcasts</a></li>
                                <li><a href="/quick-start/">Getting Started Guide</a></li>
                                <li><a href="/kubernetes/">Why Kubernetes</a></li>
                            </ul>
                            <ul class="
                                col-xl-3
                                col-lg-3
                                col-md-3
                                col-sm-6
                                col-xs-6
                                col-6
                                ">
                                <div class="label">Company</div>
                                <li><a href="/about/">About Us</a></li>
                                <li><a href="/customers/">Customers</a></li>
                                <li><a href="/partners/">Partners</a></li>
                                <li><a href="/careers/">Careers</a></li>
                                <li><a href="/blog/">Blog</a></li>
                                <li><a href="/press/">Press</a></li>
                                <li><a href="/contact/">Contact Us</a></li>
                                <li><a href="https://www.rancher.cn/">China Site</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid-container footer-copyright">
                <div class="row align-items-center grid-row max-sized footer-copyright-wrap">
                    <div class="
                        col-xl-6
                        col-lg-6
                        col-md-6
                        col-sm-12
                        col-xs-12
                        col-12
                        text">
                         Copyright 2020 Rancher. All Rights Reserved.
                    </div>
                    <div class="
                        col-xl-6
                        col-lg-6
                        col-md-6
                        col-sm-12
                        col-xs-12
                        col-12
                        sub-menus">
                        <ul>
                            <li><a href="/privacy/">Privacy Policy</a></li>
                            <li><a href="/agreements/">Agreements</a></li>
                            <li><a href="/support-maintenance-terms/">Terms of Service</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>


</div>

<script>

var VAR_DATAS = {
    SPEED_SLIDE:         1000,
    SPEED_SLIDE_DELAYED: 1200,
    SPEED_AUTOPLAY:      4000
};



function sliderProgressPlay(slider, progressBar, duration, repeatable) {
    
    progressBar.stop().css('width', 0);

    progressBar.animate({
        width: '100%'
    }, duration || 5000, function() { 
        
        progressBar.animate({width: '0%'}, 100);

        
        slider.slick('slickNext');

        if (repeatable) sliderProgressPlay(slider, progressBar, duration, repeatable);
    });
}

function scrollPage(hash) {
    var hash = hash.substring(1),
        objt = $('#' + hash),
        objt_mt = Number(objt.css('margin-top').replace(/[^0-9]/g,"")),
        depth = 80,
        scrn = $(window).width();
        scrn_check = 1025;

    if (scrn < scrn_check) {
        depth = 160;
    }

    if (objt_mt > 0) {
        depth = depth + objt_mt
    }

    setTimeout(function() {
        $('html').animate({
            'scrollTop': objt.offset().top - depth
        }, 400);
    }, 100);

    
}


$(document).ready(function() {
    
    ;(function ( $, window, document, undefined ) {
        var pluginName = "jqueryAccordionMenu";
        var defaults = {
                speed: 300,
                showDelay: 0,
                hideDelay: 0,
                singleOpen: true,
                clickEffect: true
            };

        function Plugin ( element, options ) {
            this.element = element;
            this.settings = $.extend( {}, defaults, options );
            this._defaults = defaults;
            this._name = pluginName;
            this.init();
        };

        $.extend(Plugin.prototype, {

            init: function () {
                this.openSubmenu();
                this.submenuIndicators();
                if(this.settings.clickEffect){
                    this.addClickEffect();
                }
            },

            openSubmenu: function () {
                var opts = this.settings; 
                $(this.element).children("ul").find("li").bind("click", function(e){
                    e.stopPropagation();
                    e.preventDefault();

                    if ($(this).attr('class') === 'back-to-the-top') {
                        $('.mobile-header-container').scrollTop(0);
                    }

                    if($(this).children(".submenu").length > 0){
                        if($(this).children(".submenu").css("display") == "none"){
                            $(this).children(".submenu").delay(opts.showDelay).slideDown(opts.speed);
                            $(this).children(".submenu").siblings("a").addClass("submenu-indicator-minus");
                            $(this).addClass("activate");
                            if(opts.singleOpen){
                                $(this).siblings().children(".submenu").slideUp(opts.speed);
                                $(this).siblings().children(".submenu").siblings("a").removeClass("submenu-indicator-minus");
                                $(this).removeClass("activate");
                            }

                            return false;
                        }else {
                            $(this).children(".submenu").delay(opts.hideDelay).slideUp(opts.speed);
                        }

                        if($(this).children(".submenu").siblings("a").hasClass("submenu-indicator-minus")){
                            $(this).children(".submenu").siblings("a").removeClass("submenu-indicator-minus");
                            $(this).removeClass("activate");
                        }
                    }

                    window.location.href = $(this).children("a").attr("href");
                });
            },

            submenuIndicators: function () {
                if($(this.element).find(".submenu").length > 0){
                    $(this.element).find(".submenu").siblings("a").append("<span class='submenu-indicator'><span class='object1'></span><span class='object2'></span><span class='object3'></span></span>");
                }
            },

            addClickEffect: function () {
                var ink, d, x, y;

                $(this.element).find("a").bind("click", function(e){

                    $(".ink").remove();

                    if($(this).children(".ink").length === 0){
                        $(this).prepend("<span class='ink'></span>");
                    }

                    ink = $(this).find(".ink");
                    ink.removeClass("animate-ink");

                    if(!ink.height() && !ink.width()){
                        d = Math.max($(this).outerWidth(), $(this).outerHeight());
                        ink.css({height: d, width: d});
                    }

                    x = e.pageX - $(this).offset().left - ink.width()/2;
                    y = e.pageY - $(this).offset().top - ink.height()/2;

                    ink.css({top: y+'px', left: x+'px'}).addClass("animate-ink");
                });
            }

        });

        $.fn[ pluginName ] = function ( options ) {
            this.each(function() {
                if ( !$.data( this, "plugin_" + pluginName ) ) {
                    $.data( this, "plugin_" + pluginName, new Plugin( this, options ) );
                }
            });
            return this;
        };
    })( jQuery, window, document );

    
    var mobileNavActivator = $('.mobile-menu-opener'),
        mobileNavContainer = $('.mobile-header-container'),
        mobileNavMenus     = $('.nav-mobile-menus');

    mobileNavMenus.jqueryAccordionMenu();

    mobileNavActivator.click(function() {
        if (mobileNavContainer.hasClass('active')) {
            mobileNavContainer.removeClass('active');
        } else {
            mobileNavContainer.addClass('active');
        }
    });


    
    ScrollReveal().reveal('.decoration.cloud.right', {
        delay: 400,
        origin: 'right',
        duration: 1500,
        distance: '50%'
    });


    
    
    
    
    
    
    ScrollReveal().reveal('footer .get-started-container .rancher-logo', {
        delay: 200,
        origin: 'bottom',
        distance: '20%',
        opacity: 0,
        viewFactor: .5,
        mobile: false
    });


    if(window.location.hash) {
        scrollPage(window.location.hash);
    }

    $('.docs-wrap .accordion > label').click(function() {
        if ($(this).parent().hasClass('active')) {
            $(this).parent().removeClass('active');
        } else {
            $(this).parent().addClass('active');
        }
    });

    var mobileNavContainer = $('.mobile-header-container');

    if ($(this).scrollTop() > 50) {
        mobileNavContainer.addClass('add-blinder');
    } else {
        mobileNavContainer.removeClass('add-blinder');
    }

    var stkNav = $('.header-container');

    if ($(window).scrollTop() > 50) {
        stkNav.addClass('sticky');
    } else {
        stkNav.removeClass('sticky');
    }
}).on("scroll", function(e) {
    var mobileNavContainer = $('.mobile-header-container');

    if ($(this).scrollTop() > 50) {
        mobileNavContainer.addClass('add-blinder');
    } else {
        mobileNavContainer.removeClass('add-blinder');
    }

    var stkNav = $('.header-container');

    if ($(window).scrollTop() > 50) {
        stkNav.addClass('sticky');
    } else {
        stkNav.removeClass('sticky');
    }
});
</script>



  
  <script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/468859.js"></script>
  


<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5af1cc6793d86bfb" async></script>


</body>
</html>

